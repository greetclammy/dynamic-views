/* @settings

name: Dynamic Views
id: dynamic-views
settings:
    -
        id: layout-heading
        title: Card layout
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-min-masonry-columns
        title: Minimum masonry columns
        description: Minimum number of columns in masonry view
        type: variable-select
        default: '2'
        options:
            -
                label: One
                value: '1'
            -
                label: Two
                value: '2'
    -
        id: dynamic-views-min-grid-columns
        title: Minimum grid columns
        description: Minimum number of columns in grid view
        type: variable-select
        default: '1'
        options:
            -
                label: One
                value: '1'
            -
                label: Two
                value: '2'
    -
        id: dynamic-views-card-spacing
        title: Card spacing
        description: Spacing between cards
        type: variable-number-slider
        default: 8
        min: 0
        max: 32
        step: 1
        format: px
    -
        id: dynamic-views-card-padding-container
        title: Card padding
        description: Padding between cards and container borders
        type: variable-number-slider
        default: 12
        min: 0
        max: 32
        step: 1
        format: px
    -
        id: dynamic-views-view-background
        title: View background
        description: Background color for card views
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: cards-heading
        title: Cards
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-element-spacing
        title: Card element spacing
        description: Spacing between elements within cards
        type: variable-number-slider
        default: 8
        min: 0
        max: 24
        step: 1
        format: px
    -
        id: dynamic-views-card-padding
        title: Card padding
        description: Padding from card edges to content
        type: variable-number-slider
        default: 12
        min: 0
        max: 24
        step: 1
        format: px
    -
        id: dynamic-views-fade-truncated-text
        title: Fade truncated text
        description: Show gradient fade on titles, subtitles, and properties when they can be scrolled horizontally
        type: class-toggle
        default: true
    -
        id: dynamic-views-cover-gap-setting
        title: Cover gap setting
        description: Which setting controls the gap between covers and card elements
        type: class-select
        allowEmpty: false
        default: dynamic-views-cover-gap-element-spacing
        options:
            -
                label: Card element spacing
                value: dynamic-views-cover-gap-element-spacing
            -
                label: Card padding
                value: dynamic-views-cover-gap-card-padding
    -
        id: dynamic-views-card-border-radius
        title: Card border radius
        description: Corner roundness of cards
        type: variable-number-slider
        default: 8
        min: 0
        max: 32
        step: 1
        format: px
    -
        id: dynamic-views-card-border
        title: Card border
        description: Show border around cards
        type: variable-boolean
        default: true
    -
        id: dynamic-views-card-border-color
        title: Card border color
        description: Color of card borders
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-card-border-color-hover
        title: Card border color on hover
        description: Color of card borders when hovering
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-card-background
        title: Card background
        description: Card background appearance
        type: class-select
        allowEmpty: false
        default: dynamic-views-card-background-tinted
        options:
            -
                label: Tinted
                value: dynamic-views-card-background-tinted
            -
                label: Transparent
                value: dynamic-views-card-background-transparent
            -
                label: Custom color
                value: dynamic-views-card-background-custom
    -
        id: dynamic-views-card-background-custom-color
        title: Custom card background
        description: Custom color for card backgrounds (only used when Card background is set to Custom color)
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-ambient-background
        title: Ambient background
        description: Use ambient color from image as card background (only for cards with images)
        type: class-toggle
        default: false
    -
        id: covers-heading
        title: Covers
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-cover-crop
        title: Cover crop alignment
        description: How to crop cover images when aspect ratios don't match
        type: class-select
        allowEmpty: false
        default: dynamic-views-cover-crop-center
        options:
            -
                label: Top
                value: dynamic-views-cover-crop-top
            -
                label: Center
                value: dynamic-views-cover-crop-center
            -
                label: Bottom
                value: dynamic-views-cover-crop-bottom
    -
        id: dynamic-views-cover-background
        title: Cover background
        description: Background style for Contain mode
        type: class-select
        allowEmpty: false
        default: dynamic-views-cover-bg-ambient
        options:
            -
                label: Blur
                value: dynamic-views-cover-bg-blur
            -
                label: Ambient
                value: dynamic-views-cover-bg-ambient
            -
                label: Plain
                value: dynamic-views-cover-bg-plain
            -
                label: Transparent
                value: dynamic-views-cover-bg-transparent
            -
                label: Custom color
                value: dynamic-views-cover-bg-custom
    -
        id: dynamic-views-cover-background-custom-color
        title: Custom cover background
        description: Background color for "Custom color" mode
        type: variable-themed-color
        format: rgb
        opacity: false
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-masonry-fixed-cover-height
        title: Fixed cover height
        description: Use fixed aspect ratio for cover height in Masonry view (shows letterbox bars).
        type: class-toggle
        default: false
    -
        id: dynamic-views-show-cover-placeholder
        title: Show placeholder for cards with no image
        description: If covers are enabled but a file doesn't have an image, show an empty cover. If disabled, card content will fill all available space.
        type: class-select
        allowEmpty: false
        default: dynamic-views-show-cover-placeholder-grid
        options:
            -
                label: In Grid view
                value: dynamic-views-show-cover-placeholder-grid
            -
                label: In Masonry view
                value: dynamic-views-show-cover-placeholder-masonry
            -
                label: In Grid and Masonry views
                value: dynamic-views-show-cover-placeholder-both
            -
                label: Don't show
                value: dynamic-views-show-cover-placeholder-none
    -
        id: dynamic-views-side-cover-min-height
        title: Minimum left/right cover height
        description: Minimum height for cards with left or right cover position
        type: variable-text
        default: 150px
    -
        id: datacore-heading
        title: Datacore
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-show-search
        title: Show search filter
        description: Show search input field in toolbar
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-result-count
        title: Show result count
        description: Show result count and limit dropdown in toolbar
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-create-note
        title: Show 'Create new note' button
        description: Show button to create new note in toolbar
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-shuffle
        title: Show 'Shuffle' button
        description: Show shuffle button in toolbar
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-random
        title: Show 'Open random file' button
        description: Show random file button in toolbar
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-edit-query
        title: Show 'Edit query' button
        description: Show edit query button in toolbar
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-pin-toolbar
        title: Show 'Pin toolbar' button
        description: Show pin toolbar button
        type: class-toggle
        default: true
    -
        id: dynamic-views-show-expand-width
        title: Show 'Expand width' button
        description: Show expand width button in toolbar
        type: class-toggle
        default: true
    -
        id: image-zoom-heading
        title: Image zoom
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-image-zoom-enabled
        title: Enable image zoom
        description: Enable or disable the image zoom feature entirely
        type: class-toggle
        default: true
    -
        id: dynamic-views-zoom-enabled
        title: Enable pinch/gesture zoom
        description: Enable pinch-to-zoom and pan gestures on enlarged images
        type: class-toggle
        default: true
    -
        id: dynamic-views-zoom-sensitivity
        title: Zoom sensitivity
        description: Controls how quickly images zoom when using trackpad pinch or mouse wheel
        type: variable-number-slider
        default: 0.15
        min: 0.01
        max: 1
        step: 0.01
        format: ''
    -
        id: dynamic-views-zoom-constrain-to-editor
        title: Constrain to tab
        description: When enabled, zoomed images are constrained to the editor pane instead of fullscreen
        type: class-toggle
        default: false
    -
        id: dynamic-views-zoom-persist
        title: Persistent zoom
        description: When enabled, zoomed images stay zoomed when clicking outside. When disabled, clicking outside closes zoom.
        type: class-toggle
        default: false
    -
        id: properties-heading
        title: Properties
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-list-separator
        title: List item separator
        description: Separator between items in list-type properties. Whitespace preserved.
        type: variable-text
        default: ", "
        quotes: true
    -
        id: dynamic-views-fade-list-separator
        title: Fade list separator
        description: Dim the separator color
        type: class-toggle
        default: true
    -
        id: dynamic-views-empty-value-marker
        title: Empty value marker
        description: What to show for empty property values. Whitespace preserved.
        type: variable-text
        default: "—"
        quotes: true
    -
        id: dynamic-views-fade-empty-marker
        title: Fade empty marker
        description: Dim the empty value marker color
        type: class-toggle
        default: true
    -
        id: dynamic-views-timestamp-recent-time-only
        title: Only show time for recent timestamps
        description: Omit the date for timestamps in the last 24 h. Will show timestamp as-is if it has no time.
        type: class-toggle
        default: true
    -
        id: dynamic-views-timestamp-older-date-only
        title: Only show date for older timestamps
        description: Omit the time for timestamps older than a day.
        type: class-toggle
        default: true
    -
        id: dynamic-views-timestamp-icon
        title: Timestamp icon
        description: Show icon next to timestamp to distinguish between modified and created timestamps
        type: class-select
        allowEmpty: false
        default: dynamic-views-timestamp-icon-edge
        options:
            -
                label: Align left
                value: dynamic-views-timestamp-icon-left
            -
                label: Align right
                value: dynamic-views-timestamp-icon-right
            -
                label: Align to card center
                value: dynamic-views-timestamp-icon-center
            -
                label: Align to card edge
                value: dynamic-views-timestamp-icon-edge
            -
                label: Don't show
                value: dynamic-views-timestamp-icon-hide
    -
        id: dynamic-views-property-master-font
        title: Property font
        description: Font name as it appears on your system. Can be overridden by individual item options below.
        type: variable-text
        default: ''
    -
        id: dynamic-views-property-master-font-size
        title: Property font size
        description: Font size for all properties (e.g., 0.8em, 13px, 0.8125rem)
        type: variable-text
        default: ''
    -
        id: dynamic-views-property-color
        title: Text color
        description: Theme color preset for property text
        type: class-select
        allowEmpty: false
        default: dynamic-views-property-color-muted
        options:
            -
                label: Faint
                value: dynamic-views-property-color-faint
            -
                label: Muted
                value: dynamic-views-property-color-muted
            -
                label: Normal
                value: dynamic-views-property-color-normal
            -
                label: Accent
                value: dynamic-views-property-color-accent
            -
                label: Red
                value: dynamic-views-property-color-red
            -
                label: Orange
                value: dynamic-views-property-color-orange
            -
                label: Yellow
                value: dynamic-views-property-color-yellow
            -
                label: Green
                value: dynamic-views-property-color-green
            -
                label: Cyan
                value: dynamic-views-property-color-cyan
            -
                label: Blue
                value: dynamic-views-property-color-blue
            -
                label: Purple
                value: dynamic-views-property-color-purple
            -
                label: Pink
                value: dynamic-views-property-color-pink
            -
                label: Custom
                value: dynamic-views-property-color-custom
    -
        id: dynamic-views-property-color-custom
        title: Custom text color
        description: Custom color for property text (when Text color is set to Custom)
        type: variable-themed-color
        format: hsl-split
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-hide-missing-properties
        title: Hide missing properties
        description: Do not display a property if a file does not have it.
        type: class-toggle
        default: false
    -
        id: dynamic-views-hide-empty-properties
        title: Hide empty properties
        description: Do not display a property if its value is empty.
        type: class-toggle
        default: false
    -
        id: dynamic-views-full-row-property-alignment
        title: Full-row property alignment
        description: How to align properties with inline labels that aren't shown side-by-side
        type: class-select
        allowEmpty: false
        default: dynamic-views-full-row-align-left
        options:
            -
                label: Left
                value: dynamic-views-full-row-align-left
            -
                label: Right
                value: dynamic-views-full-row-align-right
    -
        id: property-labels-heading
        title: Property labels
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-property-label-font
        title: Property label font
        description: Font name as it appears on your system
        type: variable-text
        default: ''
    -
        id: dynamic-views-property-label-font-size
        title: Property label text size
        description: Font size for property labels (e.g., 0.8em, 13px, 0.8125rem)
        type: variable-text
        default: ''
    -
        id: dynamic-views-property-label-color
        title: Text color
        description: Theme color preset for property labels
        type: class-select
        allowEmpty: false
        default: dynamic-views-property-label-color-faint
        options:
            -
                label: Faint
                value: dynamic-views-property-label-color-faint
            -
                label: Muted
                value: dynamic-views-property-label-color-muted
            -
                label: Normal
                value: dynamic-views-property-label-color-normal
            -
                label: Accent
                value: dynamic-views-property-label-color-accent
            -
                label: Red
                value: dynamic-views-property-label-color-red
            -
                label: Orange
                value: dynamic-views-property-label-color-orange
            -
                label: Yellow
                value: dynamic-views-property-label-color-yellow
            -
                label: Green
                value: dynamic-views-property-label-color-green
            -
                label: Cyan
                value: dynamic-views-property-label-color-cyan
            -
                label: Blue
                value: dynamic-views-property-label-color-blue
            -
                label: Purple
                value: dynamic-views-property-label-color-purple
            -
                label: Pink
                value: dynamic-views-property-label-color-pink
            -
                label: Custom
                value: dynamic-views-property-label-color-custom
    -
        id: dynamic-views-property-label-color-custom
        title: Custom text color
        description: Color of property labels (when Text color is set to Custom)
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-property-label-case
        title: Property label case
        description: Text case transformation for property labels
        type: class-select
        allowEmpty: false
        default: dynamic-views-property-label-case-preserve
        options:
            -
                label: Preserve case
                value: dynamic-views-property-label-case-preserve
            -
                label: Lowercase
                value: dynamic-views-property-label-case-lowercase
            -
                label: Uppercase
                value: dynamic-views-property-label-case-uppercase
    -
        id: dynamic-views-property-label-bold
        title: Bold
        description: Make property labels bold
        type: class-toggle
        default: false
    -
        id: dynamic-views-property-label-small-caps
        title: Small caps
        description: Use small caps for property labels
        type: class-toggle
        default: false
    -
        id: subtitle
        title: Subtitle
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-subtitle-font
        title: Subtitle font
        description: Font name as it appears on your system
        type: variable-text
        default: ''
    -
        id: dynamic-views-subtitle-font-size
        title: Subtitle font size
        description: Font size for subtitles (e.g., 0.9em, 14px)
        type: variable-text
        default: ''
    -
        id: dynamic-views-subtitle-color
        title: Text color
        description: Theme color preset for subtitles
        type: class-select
        allowEmpty: false
        default: dynamic-views-subtitle-color-faint
        options:
            -
                label: Faint
                value: dynamic-views-subtitle-color-faint
            -
                label: Muted
                value: dynamic-views-subtitle-color-muted
            -
                label: Normal
                value: dynamic-views-subtitle-color-normal
            -
                label: Accent
                value: dynamic-views-subtitle-color-accent
            -
                label: Red
                value: dynamic-views-subtitle-color-red
            -
                label: Orange
                value: dynamic-views-subtitle-color-orange
            -
                label: Yellow
                value: dynamic-views-subtitle-color-yellow
            -
                label: Green
                value: dynamic-views-subtitle-color-green
            -
                label: Cyan
                value: dynamic-views-subtitle-color-cyan
            -
                label: Blue
                value: dynamic-views-subtitle-color-blue
            -
                label: Purple
                value: dynamic-views-subtitle-color-purple
            -
                label: Pink
                value: dynamic-views-subtitle-color-pink
            -
                label: Custom
                value: dynamic-views-subtitle-color-custom
    -
        id: dynamic-views-subtitle-color-custom
        title: Custom text color
        description: Custom color for subtitles (when Text color is set to Custom)
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-subtitle-alignment
        title: Subtitle alignment
        description: Horizontal alignment of subtitles
        type: class-select
        allowEmpty: false
        default: dynamic-views-subtitle-align-left
        options:
            -
                label: Left
                value: dynamic-views-subtitle-align-left
            -
                label: Center
                value: dynamic-views-subtitle-align-center
            -
                label: Right
                value: dynamic-views-subtitle-align-right
    -
        id: dynamic-views-subtitle-overflow
        title: Overflow behavior
        description: How to handle long subtitle text
        type: class-select
        allowEmpty: false
        default: dynamic-views-subtitle-overflow-wrap
        options:
            -
                label: Wrap
                value: dynamic-views-subtitle-overflow-wrap
            -
                label: Scroll
                value: dynamic-views-subtitle-overflow-scroll
    -
        id: dynamic-views-subtitle-divider
        title: Divider line
        description: Show a horizontal rule below subtitle
        type: class-toggle
        default: false
    -
        id: tags-heading
        title: Tags
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-tag-style
        title: Tag style
        description: Visual appearance of tags
        type: class-select
        allowEmpty: false
        default: dynamic-views-tag-style-pill
        options:
            -
                label: Pill
                value: dynamic-views-tag-style-pill
            -
                label: Plaintext
                value: dynamic-views-tag-style-plaintext
            -
                label: Match theme
                value: dynamic-views-tag-style-theme
    -
        id: dynamic-views-show-tag-hash
        title: Show hash (#) prefix
        description: Show # prefix before tag names
        type: class-toggle
        default: false
    -
        id: dynamic-views-tag-color
        title: Tag color
        description: Theme color preset for Pill and Plaintext tag styles
        type: class-select
        allowEmpty: false
        default: dynamic-views-tag-color-faint
        options:
            -
                label: Faint
                value: dynamic-views-tag-color-faint
            -
                label: Muted
                value: dynamic-views-tag-color-muted
            -
                label: Normal
                value: dynamic-views-tag-color-normal
            -
                label: Accent
                value: dynamic-views-tag-color-accent
            -
                label: Red
                value: dynamic-views-tag-color-red
            -
                label: Orange
                value: dynamic-views-tag-color-orange
            -
                label: Yellow
                value: dynamic-views-tag-color-yellow
            -
                label: Green
                value: dynamic-views-tag-color-green
            -
                label: Cyan
                value: dynamic-views-tag-color-cyan
            -
                label: Blue
                value: dynamic-views-tag-color-blue
            -
                label: Purple
                value: dynamic-views-tag-color-purple
            -
                label: Pink
                value: dynamic-views-tag-color-pink
            -
                label: Custom
                value: dynamic-views-tag-color-custom
    -
        id: dynamic-views-tag-color-custom
        title: Custom tag color
        description: Applied when Tag color is set to Custom
        type: variable-themed-color
        format: hsl-split
        default-light: '#'
        default-dark: '#'
    -
        id: text-preview-heading
        title: Text preview
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-text-preview-font
        title: Text preview font
        description: Font name as it appears on your system
        type: variable-text
        default: ''
    -
        id: dynamic-views-text-preview-font-size
        title: Text preview font size
        description: Font size for text previews (e.g., 0.9em, 14px, 0.875rem)
        type: variable-text
        default: ''
    -
        id: dynamic-views-text-preview-color
        title: Text color
        description: Theme color preset for text previews
        type: class-select
        allowEmpty: false
        default: dynamic-views-text-preview-color-muted
        options:
            -
                label: Faint
                value: dynamic-views-text-preview-color-faint
            -
                label: Muted
                value: dynamic-views-text-preview-color-muted
            -
                label: Normal
                value: dynamic-views-text-preview-color-normal
            -
                label: Accent
                value: dynamic-views-text-preview-color-accent
            -
                label: Red
                value: dynamic-views-text-preview-color-red
            -
                label: Orange
                value: dynamic-views-text-preview-color-orange
            -
                label: Yellow
                value: dynamic-views-text-preview-color-yellow
            -
                label: Green
                value: dynamic-views-text-preview-color-green
            -
                label: Cyan
                value: dynamic-views-text-preview-color-cyan
            -
                label: Blue
                value: dynamic-views-text-preview-color-blue
            -
                label: Purple
                value: dynamic-views-text-preview-color-purple
            -
                label: Pink
                value: dynamic-views-text-preview-color-pink
            -
                label: Custom
                value: dynamic-views-text-preview-color-custom
    -
        id: dynamic-views-text-preview-color-custom
        title: Custom text color
        description: Custom color for text previews (when Text color is set to Custom)
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-text-preview-lines
        title: Number of text preview lines
        description: Maximum number of lines for text previews
        type: variable-number-slider
        default: 5
        min: 1
        max: 10
        step: 1
        format: ''
    -
        id: thumbnails-heading
        title: Thumbnails
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-thumbnail-size
        title: Thumbnail size
        description: Size of card thumbnails in pixels
        type: variable-select
        default: 80px
        options:
            -
                label: Compact
                value: 64px
            -
                label: Standard
                value: 80px
            -
                label: Expanded
                value: 94.5px
    -
        id: dynamic-views-thumbnail-border-radius
        title: Thumbnail border radius
        description: Corner roundness of thumbnails
        type: variable-number-slider
        default: 4
        min: 0
        max: 50
        step: 1
        format: px
    -
        id: dynamic-views-thumbnail-crop
        title: Thumbnail crop alignment
        description: How to crop thumbnail images when aspect ratios don't match
        type: class-select
        allowEmpty: false
        default: dynamic-views-thumbnail-crop-center
        options:
            -
                label: Top
                value: dynamic-views-thumbnail-crop-top
            -
                label: Center
                value: dynamic-views-thumbnail-crop-center
            -
                label: Bottom
                value: dynamic-views-thumbnail-crop-bottom
    -
        id: dynamic-views-show-thumbnail-placeholder
        title: Show placeholder for files with no images
        description: Show empty thumbnail placeholder for files without images
        type: class-toggle
        default: false
    -
        id: title-heading
        title: Title
        type: heading
        level: 2
        collapsed: true
    -
        id: dynamic-views-title-font
        title: Title font
        description: Font name as it appears on your system
        type: variable-text
        default: ''
    -
        id: dynamic-views-title-font-size
        title: Title font size
        description: Font size for card titles (e.g., 1em, 16px, 1.2rem)
        type: variable-text
        default: ''
    -
        id: dynamic-views-title-color
        title: Text color
        description: Theme color preset for titles
        type: class-select
        allowEmpty: false
        default: dynamic-views-title-color-normal
        options:
            -
                label: Faint
                value: dynamic-views-title-color-faint
            -
                label: Muted
                value: dynamic-views-title-color-muted
            -
                label: Normal
                value: dynamic-views-title-color-normal
            -
                label: Accent
                value: dynamic-views-title-color-accent
            -
                label: Red
                value: dynamic-views-title-color-red
            -
                label: Orange
                value: dynamic-views-title-color-orange
            -
                label: Yellow
                value: dynamic-views-title-color-yellow
            -
                label: Green
                value: dynamic-views-title-color-green
            -
                label: Cyan
                value: dynamic-views-title-color-cyan
            -
                label: Blue
                value: dynamic-views-title-color-blue
            -
                label: Purple
                value: dynamic-views-title-color-purple
            -
                label: Pink
                value: dynamic-views-title-color-pink
            -
                label: Custom
                value: dynamic-views-title-color-custom
    -
        id: dynamic-views-title-color-custom
        title: Custom text color
        description: Custom color for titles (when Text color is set to Custom)
        type: variable-themed-color
        format: hex
        default-light: '#'
        default-dark: '#'
    -
        id: dynamic-views-title-lines
        title: Number of title lines
        description: Maximum number of lines for card titles
        type: variable-number-slider
        default: 2
        min: 1
        max: 5
        step: 1
        format: ''
    -
        id: dynamic-views-title-alignment
        title: Title alignment
        description: Horizontal alignment of card titles
        type: class-select
        allowEmpty: false
        default: dynamic-views-title-align-left
        options:
            -
                label: Left
                value: dynamic-views-title-align-left
            -
                label: Center
                value: dynamic-views-title-align-center
            -
                label: Right
                value: dynamic-views-title-align-right
    -
        id: dynamic-views-title-overflow
        title: Overflow behavior
        description: How to handle long title text
        type: class-select
        allowEmpty: false
        default: dynamic-views-title-overflow-wrap
        options:
            -
                label: Wrap
                value: dynamic-views-title-overflow-wrap
            -
                label: Scroll
                value: dynamic-views-title-overflow-scroll

*/

/* ============================================
   COLOR VARIABLES
   ============================================ */

/* Derived CSS variable: clamp thumbnail aspect ratio to 0.5-2.0 range */
body {
  --dynamic-views-thumbnail-aspect-ratio: clamp(
    0.5,
    var(--dynamic-views-image-aspect-ratio, 1),
    2
  );
  --dynamic-views-list-separator: ", ";
  --dynamic-views-empty-value-marker: "—";
}

/* Compose custom colors from HSL components */
/* When HSL components undefined, entire color becomes invalid and falls back */
body {
  --dynamic-views-property-color-custom: hsl(
    var(--dynamic-views-property-color-custom-h),
    var(--dynamic-views-property-color-custom-s),
    var(--dynamic-views-property-color-custom-l)
  );
  --dynamic-views-property-color-custom-hover: hsl(
    calc(var(--dynamic-views-property-color-custom-h) - 3),
    calc(var(--dynamic-views-property-color-custom-s) * 1.02),
    calc(var(--dynamic-views-property-color-custom-l) * 1.15)
  );
  --dynamic-views-tag-color-custom: hsl(
    var(--dynamic-views-tag-color-custom-h),
    var(--dynamic-views-tag-color-custom-s),
    var(--dynamic-views-tag-color-custom-l)
  );
  --dynamic-views-tag-color-custom-hover: hsl(
    calc(var(--dynamic-views-tag-color-custom-h) - 3),
    calc(var(--dynamic-views-tag-color-custom-s) * 1.02),
    calc(var(--dynamic-views-tag-color-custom-l) * 1.15)
  );
}

/* ============================================
   PLUGIN SETTINGS STYLES
   ============================================ */

/* Add border-bottom to Appearance heading */
.dynamic-views-appearance-heading {
  border-bottom: 1px solid var(--background-modifier-border);
  padding-bottom: 12px;
  margin-bottom: 12px;
}

/* ============================================
   DATACORE & BASES VIEW STYLES
   ============================================ */

/* ============================================
   BASES VIEW PADDING
   Match built-in Bases Cards view padding
   ============================================ */

.bases-view[data-view-type="dynamic-views-card"],
.bases-view[data-view-type="dynamic-views-masonry"] {
  --bases-view-padding: var(--size-4-3);
  --bases-embed-padding: var(--size-4-1) 1px;
}

/* ============================================
   FOCUS & ACCESSIBILITY STYLES
   ============================================ */

.dynamic-views button:not(.clickable-icon) {
  box-shadow: none !important;
}

.dynamic-views button:focus-visible,
.dynamic-views [role="button"]:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: 2px;
}

.dynamic-views [role="menuitem"]:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: -2px;
  border-radius: 0;
}

.dynamic-views [role="menuitem"]:first-child:focus-visible {
  border-radius: 5px 5px 0 0;
}

.dynamic-views [role="menuitem"]:last-child:focus-visible {
  border-radius: 0 0 5px 5px;
}

.dynamic-views [role="menuitem"]:only-child:focus-visible {
  border-radius: 5px;
}

.dynamic-views [role="checkbox"]:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: 2px;
}

.dynamic-views .card:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: -2px;
}

/* ============================================
   CONTAINER & LAYOUT STYLES
   ============================================ */

/* Title alignment (left is default in base CSS) */
body.dynamic-views-title-align-center .dynamic-views .card-title {
  text-align: center;
}

body.dynamic-views-title-align-right .dynamic-views .card-title {
  text-align: right;
}

/* Title scroll mode */
body.dynamic-views-title-overflow-scroll .dynamic-views .card-title {
  display: block;
  -webkit-line-clamp: unset;
  -webkit-box-orient: unset;
  white-space: nowrap;
  overflow-x: auto;
  scrollbar-width: none;
}

/* Results container with fade effect */
.dynamic-views .results-container {
  position: relative;
}

.dynamic-views .results-container.with-fade::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 80px;
  background: linear-gradient(
    to bottom,
    transparent,
    var(--background-primary)
  );
  pointer-events: none;
}

/* Enable container queries for responsive button visibility */
.markdown-preview-view,
.markdown-reading-view,
.markdown-source-view {
  container-type: inline-size;
}

/* Minimal-style width system: CSS variables control container width */
body {
  --container-datacorejsx-width: 100%;
  --container-datacorejsx-max-width: 100%;
}

/* Helper classes set width variables (applied to section) */
.dc-wide {
  --container-datacorejsx-width: min(calc(1.75 * var(--file-line-width)), 100%);
  --container-datacorejsx-max-width: min(
    calc(1.75 * var(--file-line-width)),
    100%
  );
}

.dc-max {
  --container-datacorejsx-width: 100%;
  --container-datacorejsx-max-width: 100%;
}

/* Constrain element wrappers to normal width (Reading View) */
.markdown-preview-view.dc-wide
  .markdown-preview-sizer
  > *:not(.el-pre):not(:has(.block-language-datacorejsx)),
.markdown-preview-view.dc-max
  .markdown-preview-sizer
  > *:not(.el-pre):not(:has(.block-language-datacorejsx)),
.markdown-reading-view.dc-wide
  .markdown-reading-sizer
  > *:not(.el-pre):not(:has(.block-language-datacorejsx)),
.markdown-reading-view.dc-max
  .markdown-reading-sizer
  > *:not(.el-pre):not(:has(.block-language-datacorejsx)) {
  max-width: var(--file-line-width, 45rem) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Expand sizer in wide and max modes (Reading View) */
.markdown-preview-view.dc-wide .markdown-preview-sizer,
.markdown-reading-view.dc-wide .markdown-reading-sizer {
  max-width: min(calc(1.75 * var(--file-line-width)), 96vw) !important;
}

.markdown-preview-view.dc-max .markdown-preview-sizer,
.markdown-reading-view.dc-max .markdown-reading-sizer {
  max-width: 96vw !important;
}

/* Live Preview: DON'T expand cm-sizer/cm-content (would affect whole note) */
/* Only expand the specific code block wrapper below */

/* Allow code block to overflow in wide/max modes */
.markdown-source-view.dc-wide .cm-contentContainer,
.markdown-source-view.dc-max .cm-contentContainer,
.markdown-source-view.dc-wide .cm-content,
.markdown-source-view.dc-max .cm-content {
  overflow: visible !important;
}

/* Reading View wrappers */
/* Wide mode: expand wrapper (sizer already expanded above) */
.markdown-preview-view.dc-wide .el-pre:has(.block-language-datacorejsx),
.markdown-reading-view.dc-wide .el-pre:has(.block-language-datacorejsx) {
  max-width: var(--container-datacorejsx-max-width) !important;
  width: var(--container-datacorejsx-width) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Max mode: expand sizer, then expand wrapper */
.markdown-preview-view.dc-max .el-pre:has(.block-language-datacorejsx),
.markdown-reading-view.dc-max .el-pre:has(.block-language-datacorejsx) {
  max-width: var(--container-datacorejsx-max-width) !important;
  width: var(--container-datacorejsx-width) !important;
}

/* Live Preview: .cm-preview-code-block - use positioning to break out */
.markdown-source-view.dc-wide
  .cm-preview-code-block:has(.block-language-datacorejsx) {
  width: min(calc(1.75 * var(--file-line-width)), 96vw) !important;
  max-width: min(calc(1.75 * var(--file-line-width)), 96vw) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

.markdown-source-view.dc-max
  .cm-preview-code-block:has(.block-language-datacorejsx) {
  width: 96vw !important;
  max-width: 96vw !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Expand datacore block when wide/max active */
.markdown-preview-view.dc-wide .block-language-datacorejsx,
.markdown-preview-view.dc-max .block-language-datacorejsx,
.markdown-reading-view.dc-wide .block-language-datacorejsx,
.markdown-reading-view.dc-max .block-language-datacorejsx,
.markdown-source-view.dc-wide .block-language-datacorejsx,
.markdown-source-view.dc-max .block-language-datacorejsx {
  width: var(--container-datacorejsx-width) !important;
  max-width: var(--container-datacorejsx-max-width) !important;
  margin: 0 auto !important;
}

/* Default width for datacorejsx blocks (readable line width) */
.markdown-source-view.is-readable-line-width
  .cm-content
  > .block-language-datacorejsx,
.markdown-preview-view.is-readable-line-width .block-language-datacorejsx,
.markdown-reading-view.is-readable-line-width .block-language-datacorejsx {
  width: var(--container-datacorejsx-width);
  max-width: var(--container-datacorejsx-max-width);
  margin: 0 auto;
  transition:
    width 0.3s ease,
    max-width 0.3s ease;
}

.dynamic-views {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  min-height: 270px;
  overflow: visible;
}

/* ============================================
   TOOLBAR & CONTROLS STYLES
   ============================================ */

.dynamic-views .controls-wrapper {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 100%;
  padding: 3px 0;
  position: relative;
  background-color: var(--background-primary);
  padding-bottom: 8px;
}

.dynamic-views .controls-wrapper.pinned {
  position: fixed !important;
  top: var(--sticky-top, 0);
  z-index: 1000 !important;
  background-color: var(--background-primary);
  box-shadow: 0 2px 8px var(--background-modifier-box-shadow);
  box-sizing: border-box;
  padding: 3px 0;
}

.dynamic-views .controls-wrapper.scrolled::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  height: 20px;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.08) 0%,
    rgba(0, 0, 0, 0.04) 40%,
    rgba(0, 0, 0, 0.01) 70%,
    transparent 100%
  );
  mask-image: linear-gradient(
    to right,
    transparent 0px,
    black 40px,
    black calc(100% - 40px),
    transparent 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    transparent 0px,
    black 40px,
    black calc(100% - 40px),
    transparent 100%
  );
  pointer-events: none;
  z-index: 10;
}

.theme-dark .dynamic-views .controls-wrapper.scrolled::after {
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.04) 40%,
    rgba(255, 255, 255, 0.01) 70%,
    transparent 100%
  );
}

.dynamic-views .bottom-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  box-sizing: border-box;
}

.dynamic-views .view-controls-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ============================================
   VIEW DROPDOWN
   ============================================ */

.dynamic-views .view-dropdown-wrapper {
  position: relative;
}

.dynamic-views .view-dropdown-btn {
  padding: 6px 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;
  font-size: 0.9em;
  color: var(--text-normal);
  box-shadow: none;
  height: 30px;
  box-sizing: border-box;
}

.dynamic-views .view-dropdown-btn .chevron {
  opacity: 0.6;
}

.view-dropdown-btn:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-faint);
}

.dynamic-views .view-dropdown-menu {
  position: fixed;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  box-shadow: 0 4px 12px var(--background-modifier-box-shadow);
  z-index: 1000;
  min-width: 120px;
  overflow: hidden;
}

.dynamic-views .view-option {
  padding: 8px 12px;
  cursor: pointer;
  transition: background-color 0.2s;
  font-size: 0.9em;
  display: flex;
  align-items: center;
  gap: 8px;
}

.view-option:hover {
  background-color: var(--background-modifier-hover);
}

/* ============================================
   SORT DROPDOWN
   ============================================ */

.dynamic-views .sort-dropdown-wrapper {
  position: relative;
}

.dynamic-views .sort-dropdown-btn {
  padding: 6px 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: all 0.2s;
  color: var(--text-normal);
  box-shadow: none;
  height: 30px;
  box-sizing: border-box;
}

.dynamic-views .sort-dropdown-btn svg {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
}

.dynamic-views .sort-dropdown-btn .chevron {
  width: 12px;
  height: 12px;
  opacity: 0.6;
}

.sort-dropdown-btn:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-faint);
}

.dynamic-views .sort-dropdown-menu {
  position: fixed;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  box-shadow: 0 4px 12px var(--background-modifier-box-shadow);
  z-index: 1000;
  min-width: 240px;
  overflow: hidden;
}

.dynamic-views .sort-option {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  cursor: pointer;
  transition: background-color 0.2s;
  font-size: 0.9em;
}

.sort-option:hover {
  background-color: var(--background-modifier-hover);
}

.dynamic-views .sort-option svg {
  flex-shrink: 0;
}

/* ============================================
   RESULTS COUNT & LIMIT CONTROLS
   ============================================ */

.dynamic-views .results-count-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 6px;
  cursor: pointer;
  transition:
    background-color 0.2s,
    opacity 0.2s,
    transform 0.2s ease,
    margin 0.3s ease;
}

@media (hover: hover) {
  .results-count-wrapper:hover {
    background-color: var(--background-modifier-hover);
    opacity: var(--icon-opacity-hover);
  }
}

.results-count-wrapper.active,
.results-count-wrapper-compact.active {
  background-color: var(--background-modifier-hover);
  opacity: var(--icon-opacity-hover);
}

.dynamic-views .results-count {
  font-size: 0.85em;
  color: var(--text-muted);
  white-space: nowrap;
}

.dynamic-views .results-count.limited {
  color: var(--interactive-accent);
}

.dynamic-views .results-count-chevron {
  color: var(--text-muted);
  opacity: 0.6;
  flex-shrink: 0;
}

.dynamic-views .limit-dropdown-menu {
  position: fixed;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  box-shadow: 0 4px 12px var(--background-modifier-box-shadow);
  z-index: 1000;
  min-width: 200px;
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  gap: 0;
  cursor: default;
}

.dynamic-views .limit-dropdown-menu > *:not(:last-child) {
  margin-bottom: 8px;
}

.dynamic-views .limit-dropdown-menu .limit-reset-button {
  margin-bottom: 0 !important;
}

.dynamic-views .limit-dropdown-label {
  font-size: 0.85em;
  color: var(--text-normal);
  font-weight: 500;
  cursor: default;
}

.dynamic-views .limit-dropdown-input {
  padding: 6px 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
}

.limit-dropdown-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
}

.dynamic-views .limit-reset-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  cursor: pointer;
  border-radius: 6px;
  transition: background-color 0.2s;
}

.limit-reset-button:hover {
  background-color: var(--background-modifier-hover);
}

.limit-reset-button.disabled {
  opacity: 0.5;
  cursor: default;
}

.dynamic-views .limit-reset-button-icon {
  display: flex;
  align-items: center;
  color: var(--text-muted);
}

.dynamic-views .limit-reset-button-icon svg {
  width: 16px;
  height: 16px;
}

.dynamic-views .limit-reset-button-text {
  font-size: 0.9em;
  color: var(--text-normal);
}

.dynamic-views .limit-dropdown-menu .bases-toolbar-menu-item {
  margin: 0;
  padding: 8px;
  cursor: pointer;
  border-radius: 6px;
  transition: background-color 0.2s;
}

.dynamic-views .limit-dropdown-menu .bases-toolbar-menu-item:hover {
  background-color: var(--background-modifier-hover);
}

/* ============================================
   TOOLBAR BUTTONS
   ============================================ */

.dynamic-views .create-note-button {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .create-note-button svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.dynamic-views .create-note-button:hover {
  border-color: var(--text-faint);
  background-color: var(--background-modifier-hover);
}

.dynamic-views .meta-controls {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-left: auto;
}

.dynamic-views .settings-btn {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  box-shadow: none;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .settings-btn svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.settings-btn:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-faint);
}

.dynamic-views .query-toggle-btn {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  box-shadow: none;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .query-toggle-btn svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.query-toggle-btn:hover {
  border-color: var(--text-faint);
  background-color: var(--background-modifier-hover);
}

.dynamic-views .shuffle-btn {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .shuffle-btn svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.shuffle-btn:hover {
  border-color: var(--text-faint);
  background-color: var(--background-modifier-hover);
}

.dynamic-views .open-random-btn {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .open-random-btn svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.open-random-btn:hover {
  border-color: var(--text-faint);
  background-color: var(--background-modifier-hover);
}

.dynamic-views .width-toggle-btn {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .width-toggle-btn svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.width-toggle-btn:hover {
  border-color: var(--text-faint);
  background-color: var(--background-modifier-hover);
}

.dynamic-views .pin-btn {
  padding: 6px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  height: 30px;
  width: 30px;
  box-sizing: border-box;
}

.dynamic-views .pin-btn svg {
  width: 16px;
  height: 16px;
  color: var(--text-normal);
}

.pin-btn:hover {
  border-color: var(--text-faint);
  background-color: var(--background-modifier-hover);
}

/* ============================================
   TOOLBAR VISIBILITY CONTROLS
   ============================================ */

/* Hide search filter when toggle is off */
body:not(.dynamic-views-show-search) .dynamic-views .search-controls,
body:not(.dynamic-views-show-search) .search-controls-compact {
  display: none !important;
}

/* Hide result count when toggle is off */
body:not(.dynamic-views-show-result-count)
  .dynamic-views
  .results-count-wrapper,
body:not(.dynamic-views-show-result-count) .results-count-wrapper-compact {
  display: none !important;
}

/* Hide create note button when toggle is off */
body:not(.dynamic-views-show-create-note) .dynamic-views .create-note-button,
body:not(.dynamic-views-show-create-note) .create-note-button-compact {
  display: none !important;
}

/* Hide shuffle button when toggle is off */
body:not(.dynamic-views-show-shuffle) .dynamic-views .shuffle-btn {
  display: none !important;
}

/* Hide random button when toggle is off */
body:not(.dynamic-views-show-random) .dynamic-views .open-random-btn {
  display: none !important;
}

/* Hide edit query button when toggle is off */
body:not(.dynamic-views-show-edit-query) .dynamic-views .query-toggle-btn {
  display: none !important;
}

/* Hide pin toolbar button when toggle is off */
body:not(.dynamic-views-show-pin-toolbar) .dynamic-views .pin-btn {
  display: none !important;
}

/* Hide expand width button when toggle is off */
body:not(.dynamic-views-show-expand-width) .dynamic-views .width-toggle-btn {
  display: none !important;
}

/* ============================================
   QUERY EDITOR
   ============================================ */

.dynamic-views .query-dropdown-wrapper {
  position: relative;
}

.dynamic-views .query-dropdown-menu {
  position: fixed;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  box-shadow: 0 4px 12px var(--background-modifier-box-shadow);
  z-index: 1000;
  min-width: 400px;
  max-width: min(675px, calc(100vw - 16px));
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-sizing: border-box;
}

.dynamic-views .query-editor {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  background-color: var(--background-primary-alt);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  max-width: 900px;
  margin-left: auto;
  margin-right: 0;
  box-sizing: border-box;
}

.dynamic-views .query-input {
  width: 100%;
  padding: 6px 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
  font-family: var(--font-monospace);
  resize: none;
  overflow: hidden;
  min-height: 32px;
}

.dynamic-views .query-footer {
  display: flex;
  align-items: center;
  gap: 12px;
  justify-content: space-between;
}

.dynamic-views .query-btn {
  padding: 6px 16px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  cursor: pointer;
  font-size: 0.9em;
  transition:
    background-color 0.2s,
    border-color 0.2s;
}

.query-btn:hover {
  background-color: var(--background-modifier-hover);
}

.dynamic-views .query-apply-btn {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.dynamic-views .query-apply-btn:hover {
  background-color: var(--interactive-accent-hover);
}

.dynamic-views .query-clear-btn {
  background-color: var(--background-secondary);
  color: var(--text-muted);
  border-color: var(--background-modifier-border);
}

.dynamic-views .query-clear-btn:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.dynamic-views .query-tip {
  font-size: 0.8em;
  color: var(--text-faint);
  flex: 1;
  text-align: left;
}

.dynamic-views .query-error {
  font-family: var(--font-monospace);
  font-size: 0.85em;
  white-space: pre-wrap;
  word-wrap: break-word;
  margin: 16px 0;
  padding: 0;
  color: var(--text-muted);
  overflow-x: auto;
}

/* ============================================
   SETTINGS PANEL
   ============================================ */

.dynamic-views .settings-dropdown-wrapper {
  position: relative;
}

.dynamic-views .settings-dropdown-menu {
  position: fixed;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  box-shadow: 0 4px 12px var(--background-modifier-box-shadow);
  z-index: 1000;
  min-width: 300px;
  max-width: min(500px, calc(100vw - 16px));
  max-height: min(500px, calc(100vh - 100px));
  overflow-y: auto;
  padding: 16px;
  display: flex;
}

.dynamic-views .settings-panel {
  display: flex !important;
  flex-direction: column !important;
  gap: 12px;
  padding: 16px;
  background-color: var(--background-primary-alt);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  text-align: left !important;
  align-items: flex-start !important;
  max-width: 900px;
  box-sizing: border-box;
  margin-left: auto;
  margin-right: 0;
}

.dynamic-views .setting-item {
  display: flex !important;
  flex-direction: column !important;
  gap: 4px;
  align-items: flex-start !important;
  width: 100%;
  max-width: 100%;
  text-align: left !important;
  box-sizing: border-box;
}

.dynamic-views .setting-item-toggle {
  flex-direction: row !important;
  justify-content: space-between !important;
  align-items: center !important;
}

.dynamic-views .setting-item-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  text-align: left !important;
}

.dynamic-views .setting-item label {
  font-size: 0.9em;
  color: var(--text-normal);
  font-weight: 500;
  text-align: left !important;
}

.dynamic-views .setting-item input[type="text"] {
  padding: 6px 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
  box-sizing: border-box;
}

.dynamic-views .setting-item select {
  padding: 6px 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  cursor: pointer;
  font-size: 0.9em;
  box-sizing: border-box;
}

.dynamic-views .setting-desc {
  font-size: 0.8em;
  color: var(--text-faint);
  text-align: left !important;
}

.dynamic-views .setting-item-text {
  flex-direction: row !important;
  gap: 16px;
  align-items: flex-start !important;
}

.dynamic-views .setting-item-text .setting-item-info {
  flex: 1;
  min-width: 150px;
}

.dynamic-views .setting-text-input {
  width: 180px;
  max-width: 180px;
  flex-shrink: 1;
  padding: 6px 10px;
  border: 1px solid var(--background-modifier-border);
  box-sizing: border-box;
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
}

.dynamic-views .dropdown {
  width: 180px;
  max-width: 180px;
  flex-shrink: 1;
}

.dynamic-views .toggle-switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
  flex-shrink: 0;
}

.dynamic-views .toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.dynamic-views .toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--background-modifier-border);
  transition: 0.3s;
  border-radius: 24px;
}

.toggle-slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: var(--background-primary);
  transition: 0.3s;
  border-radius: 50%;
}

label.toggle-switch input[type="checkbox"]:checked + span.toggle-slider {
  background-color: var(--interactive-accent) !important;
}

.dynamic-views .toggle-switch input:checked + .toggle-slider:before {
  transform: translateX(20px);
}

.toggle-switch:hover .toggle-slider {
  opacity: 0.9;
}

/* ============================================
   SEARCH CONTROLS
   ============================================ */

.dynamic-views .search-controls {
  flex: 1;
  transition:
    opacity 0.3s ease,
    flex 0.3s ease,
    margin 0.3s ease;
  overflow: hidden;
  margin: 0 -3px;
  max-width: 400px;
}

.dynamic-views .search-input-container {
  position: relative;
  flex: 1;
  --search-icon-size: 16px;
  --search-icon-color: var(--text-normal);
  padding: 2px 3px;
}

.dynamic-views .search-input-container:before {
  display: none;
}

.dynamic-views .search-input-loupe-icon {
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  color: var(--text-muted);
  opacity: 0.7;
  pointer-events: none;
  z-index: 1;
}

.dynamic-views .desktop-search {
  width: 100%;
  padding: 6px 28px 6px 32px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: transparent;
  color: var(--text-normal);
  font-size: 0.9em;
  transition: all 0.2s;
  height: 30px;
  box-sizing: border-box;
  line-height: 1;
}

.dynamic-views .search-input-clear-button {
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  cursor: pointer;
  color: var(--text-muted);
  opacity: 0.7;
  transition:
    opacity 0.2s,
    color 0.2s;
  display: block;
}

.search-input-clear-button:hover {
  opacity: 1;
  color: var(--text-normal);
}

.desktop-search:hover {
  border-color: var(--text-muted);
}

.desktop-search:focus {
  border-color: var(--interactive-accent);
}

.dynamic-views .desktop-search::placeholder {
  color: var(--text-faint);
}

/* ============================================
   VIEW-SPECIFIC STYLES: CARD VIEW
   ============================================ */

/* Unified grid layout for all grid views (all width modes) */
.bases-view[data-view-type="dynamic-views-card"] .dynamic-views-grid,
.dynamic-views .dynamic-views-grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns, 1), 1fr);
  gap: var(--dynamic-views-card-spacing, 12px);
  align-items: stretch;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  padding: var(--dynamic-views-card-padding-container, 12px);
  background-color: var(--dynamic-views-view-background);
}

/* Grid mode: remove margins (gap handles spacing) and set flexbox layout */
.bases-view[data-view-type="dynamic-views-card"] .dynamic-views-grid .card,
.dynamic-views .dynamic-views-grid .card {
  margin: 0 !important;
  display: flex;
  flex-direction: column;
  height: 100%;
  min-width: 0;
  overflow: hidden;
}

/* Grid mode: side covers use overflow visible, rely on wrapper positioning */
.bases-view[data-view-type="dynamic-views-card"]
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover,
.bases-view[data-view-type="dynamic-views-card"]
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover,
.dynamic-views .dynamic-views-grid .card.card-cover-left.image-format-cover,
.dynamic-views .dynamic-views-grid .card.card-cover-right.image-format-cover {
  overflow: visible;
}

/* Card element ordering for flexbox layout */
.dynamic-views .card .card-title,
.dynamic-views .card .card-title-container {
  order: -100;
}

.dynamic-views .card .card-subtitle {
  order: -90;
}

/* Property group position: top (below title/subtitle, above content) */
.dynamic-views .card .card-properties-top {
  order: -50;
}

/* Property group position: bottom (after content) */
.dynamic-views .card .card-properties-bottom {
  order: 50;
}

/* Grid mode: push bottom properties to bottom of card */
.bases-view[data-view-type="dynamic-views-card"]
  .dynamic-views-grid
  .card
  .card-content
  ~ .card-properties-bottom,
.dynamic-views
  .dynamic-views-grid
  .card
  .card-content
  ~ .card-properties-bottom,
.bases-view[data-view-type="dynamic-views-card"]
  .dynamic-views-grid
  .card
  .card-title
  ~ .card-properties-bottom,
.dynamic-views .dynamic-views-grid .card .card-title ~ .card-properties-bottom,
.bases-view[data-view-type="dynamic-views-card"]
  .dynamic-views-grid
  .card
  .card-properties-bottom:only-child,
.dynamic-views .dynamic-views-grid .card .card-properties-bottom:only-child {
  margin-top: auto;
  padding-top: var(--dynamic-views-element-spacing, 8px);
}

/* Group containers in grid - use subgrid to maintain grid layout */
.dynamic-views-grid > .dynamic-views-group {
  display: grid;
  grid-column: 1 / -1;
  grid-template-columns: subgrid;
  row-gap: var(--dynamic-views-card-spacing, 12px);
  padding: 0 0 var(--size-4-4) 0;
  border-color: var(--background-modifier-border);
  border-width: 0 0 1px 0;
  border-style: solid;
}

/* Group containers in masonry - simple block layout */
.dynamic-views-masonry > .dynamic-views-group {
  padding: 0 0 var(--size-4-4) 0;
  border-color: var(--background-modifier-border);
  border-width: 0 0 1px 0;
  border-style: solid;
}

/* Last group has no border */
.dynamic-views-grid > .dynamic-views-group:last-child,
.dynamic-views-masonry > .dynamic-views-group:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

/* Group headers - span full grid width */
.dynamic-views-grid .bases-group-heading {
  grid-column: 1 / -1;
  padding: var(--size-4-1) 0 0;
}

.dynamic-views-masonry .bases-group-heading {
  padding: var(--size-4-1) 0 var(--size-4-2);
}

.dynamic-views .card {
  --_border-enabled: var(--dynamic-views-card-border, 1);
  position: relative;
  container-type: inline-size;
  box-sizing: border-box;
  border: calc(var(--_border-enabled) * 1px) solid
    var(--dynamic-views-card-border-color, var(--background-modifier-border));
  border-radius: var(--dynamic-views-card-border-radius, 8px);
  padding: var(--dynamic-views-card-padding, 12px);
  margin: var(--dynamic-views-card-spacing, 12px) 0;
  background-color: var(--background-primary-alt);
  break-inside: avoid;
  page-break-inside: avoid;
  transition:
    border-color 0.2s,
    box-shadow var(--anim-duration-fast) ease-in-out;
}

/* Disable container-type and position: relative on ALL ancestors when zoomed */
body.dynamic-views-image-zoom-enabled .dynamic-views:has(.is-zoomed),
body.dynamic-views-image-zoom-enabled .dynamic-views-grid:has(.is-zoomed),
body.dynamic-views-image-zoom-enabled .dynamic-views-masonry:has(.is-zoomed),
body.dynamic-views-image-zoom-enabled .masonry-container:has(.is-zoomed) {
  position: static !important;
}

body.dynamic-views-image-zoom-enabled .dynamic-views .card:has(.is-zoomed) {
  container-type: normal !important;
  position: static !important;
}

body.dynamic-views-image-zoom-enabled
  .dynamic-views
  .card:has(.is-zoomed)
  .card-cover,
body.dynamic-views-image-zoom-enabled
  .dynamic-views
  .card:has(.is-zoomed)
  .card-thumbnail {
  position: static !important;
}

/* Completely blank cards: no title, content, thumbnails, covers, or properties */
/* Use ::after with padding to create height equal to card padding x 2 */
.dynamic-views
  .card:not(:has(.card-title)):not(:has(.card-content)):not(
    :has(.card-thumbnail)
  ):not(:has(.card-thumbnail-placeholder)):not(:has(.card-cover)):not(
    :has(.card-cover-placeholder)
  ):not(:has(.card-properties))::after {
  content: "";
  display: block;
  padding-top: calc(var(--dynamic-views-card-padding, 12px) * 2);
}

/* Clickable card cursor */
.dynamic-views .card.clickable-card {
  cursor: pointer;
}

/* Masonry container */
.dynamic-views .masonry-container {
  position: relative;
  height: var(--masonry-height);
}

/* Masonry positioned cards */
.dynamic-views .card.masonry-positioned {
  position: absolute;
  width: var(--masonry-width);
  left: var(--masonry-left);
  top: var(--masonry-top);
  transition:
    box-shadow var(--anim-duration-fast) ease-in-out,
    border-color 0.2s;
}

/* Global spacing between card elements (exclude cover-format cards which use flexbox gap) */
.dynamic-views .card:not(.image-format-cover) > * + * {
  margin-top: var(--dynamic-views-element-spacing, 8px);
}

/* Card background options */
body.dynamic-views-card-background-transparent .dynamic-views .card {
  background-color: transparent;
}

body.dynamic-views-card-background-custom .dynamic-views .card {
  background-color: var(--dynamic-views-card-background-custom-color, #1e1e1e);
}

/* Ambient background: Cards WITH images only */
body.dynamic-views-ambient-background
  .dynamic-views
  .card.image-format-cover:has(.card-cover),
body.dynamic-views-ambient-background
  .dynamic-views
  .card.image-format-thumbnail:has(.card-thumbnail) {
  background-color: var(--ambient-color, var(--background-primary-alt));
}

/* Text color adjustments for ambient card backgrounds */
body.dynamic-views-ambient-background
  .dynamic-views
  .card[data-ambient-theme="light"] {
  --text-normal: #2e3338;
  --text-muted: #888888;
  --text-faint: #999999;
  --text-accent: #705dcf;
  --bold-color: #2e3338;
  --tag-color: #2e3338;
  --text-on-accent: #f0f0f0;
  --dynamic-views-text-preview-color: #888888;
  --dynamic-views-title-color: #2e3338;
}

body.dynamic-views-ambient-background
  .dynamic-views
  .card[data-ambient-theme="dark"] {
  --text-normal: #dcddde;
  --text-muted: #999999;
  --text-faint: #666666;
  --text-accent: #a893ff;
  --bold-color: #dcddde;
  --tag-color: #dcddde;
  --text-on-accent: #2e3338;
  --dynamic-views-text-preview-color: #999999;
  --dynamic-views-title-color: #dcddde;
}

/* Snippet container flexbox in grid mode to push properties to bottom */
.dc-wide .dynamic-views .dynamic-views-grid .card-content,
.dc-max .dynamic-views .dynamic-views-grid .card-content {
  flex-grow: 1;
}

@media (hover: hover) {
  .card:hover {
    border-color: var(
      --dynamic-views-card-border-color-hover,
      var(--text-faint)
    );
  }
}

.dynamic-views .card-title-container {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--dynamic-views-element-spacing, 8px);
}

.dynamic-views .card-title {
  font-weight: calc(var(--font-weight) + var(--bold-modifier));
  color: var(--text-normal);
  font-family: var(--dynamic-views-title-font, inherit);
  font-size: var(--dynamic-views-title-font-size, var(--font-ui-medium));
  max-width: 100%;
  word-break: break-word;
  text-align: left;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: var(--dynamic-views-title-lines, 2);
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: var(--line-height-tight);
}

.dynamic-views .card-title-url-icon {
  flex-shrink: 0;
}

.dynamic-views .card-title a {
  text-decoration: none;
  color: inherit;
  font-weight: inherit;
}

@media (hover: hover) {
  .dynamic-views .card-title a:hover {
    text-decoration: underline;
  }
  body.dynamic-views-open-on-title .dynamic-views .card-title a:hover {
    color: var(--text-normal);
  }
}

.dynamic-views .card-subtitle {
  color: var(--text-faint);
  font-family: var(--dynamic-views-subtitle-font);
  font-size: var(--dynamic-views-subtitle-font-size, var(--font-ui-small));
  max-width: 100%;
  word-break: break-word;
  text-align: left;
  margin: 0;
  display: block;
  overflow: visible;
  line-height: var(--line-height-tight);
}

/* Subtitle property content inherits color from subtitle */
.dynamic-views .card-subtitle .property-content,
.dynamic-views .card-subtitle .property-content * {
  color: inherit;
}

/* Subtitle alignment */
body.dynamic-views-subtitle-align-center .dynamic-views .card-subtitle {
  text-align: center;
}

body.dynamic-views-subtitle-align-right .dynamic-views .card-subtitle {
  text-align: right;
}

/* Subtitle wrap mode (default) - override property-content-wrapper's overflow */
.dynamic-views .card-subtitle .property-content-wrapper {
  overflow: hidden;
  flex-wrap: wrap;
}

.dynamic-views .card-subtitle .property-content,
.dynamic-views .card-subtitle .text-wrapper {
  display: block;
  width: 100%;
  height: auto;
  white-space: normal;
  word-break: break-word;
}

/* Disable fade gradient in wrap mode */
body:not(.dynamic-views-subtitle-overflow-scroll)
  .dynamic-views
  .card-subtitle
  .property-content-wrapper.scroll-gradient-left,
body:not(.dynamic-views-subtitle-overflow-scroll)
  .dynamic-views
  .card-subtitle
  .property-content-wrapper.scroll-gradient-right,
body:not(.dynamic-views-subtitle-overflow-scroll)
  .dynamic-views
  .card-subtitle
  .property-content-wrapper.scroll-gradient-both {
  mask-image: none !important;
  -webkit-mask-image: none !important;
}

/* Subtitle scroll mode */
body.dynamic-views-subtitle-overflow-scroll .dynamic-views .card-subtitle {
  display: block;
  -webkit-line-clamp: unset;
  -webkit-box-orient: unset;
  white-space: nowrap;
  overflow-x: auto;
  scrollbar-width: none;
}

body.dynamic-views-subtitle-overflow-scroll
  .dynamic-views
  .card-subtitle
  .property-content-wrapper {
  overflow-x: auto;
  flex-wrap: nowrap;
}

body.dynamic-views-subtitle-overflow-scroll
  .dynamic-views
  .card-subtitle
  .property-content,
body.dynamic-views-subtitle-overflow-scroll
  .dynamic-views
  .card-subtitle
  .text-wrapper {
  display: flex;
  width: max-content;
  white-space: nowrap;
}

/* Subtitle divider line (shown when class-toggle is ON) */
body.dynamic-views-subtitle-divider .dynamic-views .card-subtitle {
  padding-bottom: var(--dynamic-views-element-spacing, 8px);
  border-bottom: 1px solid var(--hr-color);
}

.dynamic-views .card-content {
  display: flex;
  flex-direction: row;
  gap: var(--dynamic-views-element-spacing, 8px);
  order: 0; /* Between properties-top (-50) and properties-bottom (50) */
}

/* When card-content only has text preview (no thumbnails), use column layout */
.dynamic-views .card-content:not(:has(.card-thumbnail)):not(:has(.card-cover)) {
  flex-direction: column;
}

/* Thumbnail positioning (controlled by body class from Style Settings) */
.dynamic-views .card.card-thumbnail-left .card-content {
  flex-direction: row-reverse;
}

.dynamic-views .card.card-thumbnail-right .card-content {
  flex-direction: row;
}

/* Thumbnail top: between title and text preview */
.dynamic-views .card.card-thumbnail-top .card-thumbnail {
  margin-top: var(--dynamic-views-element-spacing, 8px);
  margin-bottom: var(--dynamic-views-element-spacing, 8px);
}

/* Thumbnail bottom: after text preview */
.dynamic-views .card.card-thumbnail-bottom .card-thumbnail {
  margin-top: var(--dynamic-views-element-spacing, 8px);
  margin-bottom: var(--dynamic-views-element-spacing, 8px);
}

.dynamic-views .card-text-preview {
  color: var(--text-muted);
  font-family: var(--dynamic-views-text-preview-font, inherit);
  font-size: var(
    --dynamic-views-text-preview-font-size,
    var(--bases-table-font-size)
  );
  flex: 1;
  min-width: 0;
  display: -webkit-box;
  -webkit-line-clamp: var(--dynamic-views-text-preview-lines, 5);
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.4;
  word-break: break-word;
  overflow-wrap: break-word;
  user-select: text;
}

/* Text cursor on text preview when openFileAction is 'title' */
body.dynamic-views-open-on-title .dynamic-views .card-text-preview {
  cursor: text;
}

.dynamic-views .card-thumbnail {
  flex-shrink: 0;
  width: var(--dynamic-views-thumbnail-size, 80px);
  height: calc(
    var(--dynamic-views-thumbnail-size, 80px) /
      var(--dynamic-views-image-aspect-ratio, 1)
  );
  overflow: hidden;
  border-radius: var(--dynamic-views-thumbnail-border-radius, 4px);
  pointer-events: none;
}

/* Hide thumbnail placeholder by default */
.dynamic-views .card-thumbnail-placeholder {
  display: none;
}

/* Show thumbnail placeholder when enabled in Style Settings */
body.dynamic-views-show-thumbnail-placeholder
  .dynamic-views
  .card-thumbnail-placeholder {
  display: block;
  flex-shrink: 0;
  width: var(--dynamic-views-thumbnail-size, 80px);
  height: calc(
    var(--dynamic-views-thumbnail-size, 80px) /
      var(--dynamic-views-image-aspect-ratio, 1)
  );
  border-radius: var(--dynamic-views-thumbnail-border-radius, 4px);
  background-color: var(--background-modifier-border);
}

.dynamic-views .card-thumbnail.multi-image,
body.dynamic-views-show-thumbnail-placeholder
  .dynamic-views
  .card-thumbnail-placeholder.multi-image {
  box-shadow: 0 3px 16px rgba(0, 0, 0, 0.4);
}

.theme-dark .dynamic-views .card-thumbnail.multi-image,
body.dynamic-views-show-thumbnail-placeholder.theme-dark
  .dynamic-views
  .card-thumbnail-placeholder.multi-image {
  box-shadow: 0 3px 18px rgba(255, 255, 255, 0.45);
}

.is-mobile .dynamic-views .card-thumbnail.multi-image,
body.dynamic-views-show-thumbnail-placeholder.is-mobile
  .dynamic-views
  .card-thumbnail-placeholder.multi-image,
.is-mobile.theme-dark .dynamic-views .card-thumbnail.multi-image,
body.dynamic-views-show-thumbnail-placeholder.is-mobile.theme-dark
  .dynamic-views
  .card-thumbnail-placeholder.multi-image {
  box-shadow: none;
  pointer-events: none;
}

.dynamic-views .card-thumbnail .image-embed {
  width: 100%;
  height: 100%;
}

.dynamic-views .card-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  pointer-events: auto;
}

/* Thumbnail expand on click - Toggle mode */
body.dynamic-views-image-zoom-enabled:not(.dynamic-views-image-zoom-disabled)
  .dynamic-views
  .card-thumbnail
  img {
  cursor: zoom-in;
}

body.dynamic-views-image-zoom-enabled
  .dynamic-views
  .card-thumbnail
  .image-embed {
  cursor: zoom-in;
}

body.dynamic-views-image-zoom-enabled
  .dynamic-views
  .card.image-format-cover
  .card-cover
  .image-embed {
  cursor: zoom-in;
}

body.dynamic-views-image-zoom-enabled .dynamic-views .image-embed {
  pointer-events: auto;
}

body.dynamic-views-image-zoom-enabled .dynamic-views .image-embed img {
  pointer-events: none;
  cursor: zoom-in;
}

body.dynamic-views-image-zoom-enabled .dynamic-views .image-embed.is-zoomed,
body.dynamic-views-image-zoom-enabled > .image-embed.is-zoomed {
  cursor: zoom-out;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
  position: fixed;
  height: 100%;
  width: 100%;
  padding: 0;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

/* Constrain to tab: opacity from --background-modifier-cover + absolute positioning */
body.dynamic-views-image-zoom-enabled.dynamic-views-zoom-constrain-to-editor
  .dynamic-views
  .image-embed.is-zoomed {
  background: color-mix(
    in srgb,
    var(--background-primary) var(--dynamic-views-overlay-opacity, 90%),
    transparent
  );
  position: absolute;
  /* Debug: green border for constrained mode */
  outline: 3px solid green;
}

/* Not constrained: transparent background + fixed positioning */
body.dynamic-views-image-zoom-enabled:not(
    .dynamic-views-zoom-constrain-to-editor
  )
  .dynamic-views
  .image-embed.is-zoomed,
body.dynamic-views-image-zoom-enabled:not(
    .dynamic-views-zoom-constrain-to-editor
  )
  > .image-embed.is-zoomed {
  background: var(--background-modifier-cover);
  position: fixed;
  /* Debug: red border for unconstrained mode */
  outline: 3px solid red;
}

body.dynamic-views-image-zoom-enabled .dynamic-views .image-embed.is-zoomed img,
body.dynamic-views-image-zoom-enabled > .image-embed.is-zoomed img {
  padding: 0;
  margin: 0;
  width: auto;
  height: auto;
  max-height: 100vh;
  max-width: 100vw;
  object-fit: contain;
  opacity: 1;
}

/* Desktop only: limit zoomed images to 90% viewport */
body.dynamic-views-image-zoom-enabled:not(.is-mobile)
  .dynamic-views
  .image-embed.is-zoomed
  img,
body.dynamic-views-image-zoom-enabled:not(.is-mobile)
  > .image-embed.is-zoomed
  img {
  max-height: 90vh;
  max-width: 90vw;
}

/* Cover-specific zoom override (higher specificity needed) */
body.dynamic-views-image-zoom-enabled
  .dynamic-views
  .card.image-format-cover
  .card-cover
  .image-embed.is-zoomed,
body.dynamic-views-image-zoom-enabled > .image-embed.is-zoomed {
  cursor: zoom-out;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
  position: fixed;
  height: 100%;
  width: 100%;
  padding: 0;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

/* Constrain to tab: opacity from --background-modifier-cover + absolute positioning for covers */
body.dynamic-views-image-zoom-enabled.dynamic-views-zoom-constrain-to-editor
  .dynamic-views
  .card.image-format-cover
  .card-cover
  .image-embed.is-zoomed {
  background: color-mix(
    in srgb,
    var(--background-primary) var(--dynamic-views-overlay-opacity, 90%),
    transparent
  ) !important;
  position: absolute !important;
  /* Debug: green border for constrained mode */
  outline: 3px solid green !important;
}

/* Not constrained: transparent background + fixed positioning for covers */
body.dynamic-views-image-zoom-enabled:not(
    .dynamic-views-zoom-constrain-to-editor
  )
  .dynamic-views
  .card.image-format-cover
  .card-cover
  .image-embed.is-zoomed,
body.dynamic-views-image-zoom-enabled:not(
    .dynamic-views-zoom-constrain-to-editor
  )
  > .image-embed.is-zoomed {
  background: var(--background-modifier-cover) !important;
  position: fixed !important;
  /* Debug: red border for unconstrained mode */
  outline: 3px solid red !important;
}

body.dynamic-views-image-zoom-enabled
  .dynamic-views
  .card.image-format-cover
  .card-cover
  .image-embed.is-zoomed
  img,
body.dynamic-views-image-zoom-enabled > .image-embed.is-zoomed img {
  padding: 0;
  margin: 0;
  width: auto;
  height: auto;
  max-height: 100vh;
  max-width: 100vw;
  object-fit: contain;
  opacity: 1;
}

/* Desktop only: limit zoomed cover images to 90% viewport */
body.dynamic-views-image-zoom-enabled:not(.is-mobile)
  .dynamic-views
  .card.image-format-cover
  .card-cover
  .image-embed.is-zoomed
  img,
body.dynamic-views-image-zoom-enabled:not(.is-mobile)
  > .image-embed.is-zoomed
  img {
  max-height: 90vh;
  max-width: 90vw;
}

/* Thumbnail crop alignment (center is default) */
.dynamic-views .card-thumbnail img {
  object-position: center center;
}

body.dynamic-views-thumbnail-crop-top .dynamic-views .card-thumbnail img {
  object-position: center top;
}

body.dynamic-views-thumbnail-crop-bottom .dynamic-views .card-thumbnail img {
  object-position: center bottom;
}

/* Cover crop alignment (center is default) */
.dynamic-views .card.image-format-cover .card-cover img {
  object-position: center center;
}

body.dynamic-views-cover-crop-top
  .dynamic-views
  .card.image-format-cover
  .card-cover
  img {
  object-position: center top;
}

body.dynamic-views-cover-crop-bottom
  .dynamic-views
  .card.image-format-cover
  .card-cover
  img {
  object-position: center bottom;
}

/* Cover fit mode: Contain mode - images use object-fit: contain */
.dynamic-views .card.card-cover-contain.image-format-cover .card-cover img {
  object-fit: contain;
  object-position: center;
  position: relative;
  z-index: 1;
}

/* Cover backgrounds for contain mode */

/* Blur background */
body.dynamic-views-cover-bg-blur
  .dynamic-views
  .card.card-cover-contain.image-format-cover
  .card-cover
  .image-embed::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: var(--cover-image-url);
  background-size: cover;
  background-position: center;
  filter: blur(20px);
  transform: scale(1.1);
  z-index: 0;
}

.theme-dark
  body.dynamic-views-cover-bg-blur
  .dynamic-views
  .card.card-cover-contain.image-format-cover
  .card-cover
  .image-embed::before {
  opacity: 0.5;
}

/* Ambient background (default) */
.dynamic-views .card.card-cover-contain.image-format-cover .card-cover {
  background-color: var(--ambient-color, var(--background-secondary));
}

/* Plain background */
body.dynamic-views-cover-bg-plain
  .dynamic-views
  .card.card-cover-contain.image-format-cover
  .card-cover {
  background-color: var(
    --dynamic-views-card-background-default,
    var(--background-primary)
  );
}

body.dynamic-views-cover-bg-plain.dynamic-views-card-background-tinted
  .dynamic-views
  .card.card-cover-contain.image-format-cover
  .card-cover {
  background-color: var(
    --dynamic-views-card-background-tinted,
    var(--background-primary-alt)
  );
}

/* Transparent background */
body.dynamic-views-cover-bg-transparent
  .dynamic-views
  .card.card-cover-contain.image-format-cover
  .card-cover {
  background-color: transparent;
}

/* Custom color background */
body.dynamic-views-cover-bg-custom
  .dynamic-views
  .card.card-cover-contain.image-format-cover
  .card-cover {
  background-color: var(
    --dynamic-views-cover-background-custom-color,
    var(--background-secondary)
  );
}

/* Flexible cover height for masonry (default: use actual image aspect ratio) - top/bottom only */
[data-view-type="dynamic-views-masonry"]
  .card.card-cover-top.image-format-cover
  .card-cover,
[data-view-type="dynamic-views-masonry"]
  .card.card-cover-bottom.image-format-cover
  .card-cover {
  padding-top: calc(
    var(--actual-aspect-ratio, var(--dynamic-views-image-aspect-ratio, 0.55)) *
      100%
  ) !important;
}

/* Fixed cover height for masonry (override to fixed aspect ratio) */
body.dynamic-views-masonry-fixed-cover-height
  [data-view-type="dynamic-views-masonry"]
  .card.card-cover-top.image-format-cover
  .card-cover,
body.dynamic-views-masonry-fixed-cover-height
  [data-view-type="dynamic-views-masonry"]
  .card.card-cover-bottom.image-format-cover
  .card-cover {
  padding-top: calc(
    var(--dynamic-views-image-aspect-ratio, 0.55) * 100%
  ) !important;
}

/* ==================== CARD COVER FORMAT - FLEXBOX SYSTEM ==================== */

/* Base card setup: flexbox with gap for element spacing */
.dynamic-views .card.image-format-cover {
  position: relative;
  overflow: hidden;
  padding: var(--dynamic-views-card-padding, 12px); /* Card edge padding */
  display: flex;
  flex-direction: column;
  gap: var(
    --dynamic-views-element-spacing,
    8px
  ); /* Element spacing - default */
}

/* Cover gap setting: Use card padding for gap between cover and content */
body.dynamic-views-cover-gap-card-padding
  .dynamic-views
  .card.image-format-cover
  .card-cover-wrapper {
  margin-bottom: calc(
    var(--dynamic-views-card-padding, 12px) -
      var(--dynamic-views-element-spacing, 8px)
  );
}

body.dynamic-views-cover-gap-card-padding
  .dynamic-views
  .card.card-cover-bottom.image-format-cover
  .card-cover-wrapper {
  margin-bottom: 0;
  margin-top: calc(
    var(--dynamic-views-card-padding, 12px) -
      var(--dynamic-views-element-spacing, 8px)
  );
}

/* Card content flex setup */
.dynamic-views .card.image-format-cover .card-content {
  flex-direction: row;
  gap: var(--dynamic-views-element-spacing, 8px);
}

/* ==================== COVER WRAPPER POSITIONING ==================== */

/* Cover-top: wrapper at start with negative margins to bleed to edges */
.dynamic-views .card.card-cover-top.image-format-cover .card-cover-wrapper {
  order: -999; /* First */
  margin: calc(var(--dynamic-views-card-padding, 12px) * -1)
    calc(var(--dynamic-views-card-padding, 12px) * -1) 0
    calc(var(--dynamic-views-card-padding, 12px) * -1); /* Bleed to top/left/right edges */
}

/* Cover-bottom: wrapper at end with negative margins to bleed to edges */
.dynamic-views .card.card-cover-bottom.image-format-cover .card-cover-wrapper {
  order: 999; /* Last */
  margin: 0 calc(var(--dynamic-views-card-padding, 12px) * -1)
    calc(var(--dynamic-views-card-padding, 12px) * -1)
    calc(var(--dynamic-views-card-padding, 12px) * -1); /* Bleed to bottom/left/right edges */
}

/* Cover-left: wrapper positioned at padding-box edges */
.dynamic-views .card.card-cover-left.image-format-cover .card-cover-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: auto !important;
  width: var(--dynamic-views-side-cover-width, 200px);
}

/* Cover-right: wrapper positioned at padding-box edges */
.dynamic-views .card.card-cover-right.image-format-cover .card-cover-wrapper {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: auto !important;
  width: var(--dynamic-views-side-cover-width, 200px);
}

/* ==================== COVER ELEMENT STYLING ==================== */

/* Cover-top/bottom: aspect ratio using padding-top hack */
.dynamic-views .card.card-cover-top.image-format-cover .card-cover,
.dynamic-views .card.card-cover-bottom.image-format-cover .card-cover {
  width: 100%;
  height: 0;
  padding-top: calc(var(--dynamic-views-image-aspect-ratio, 0.55) * 100%);
  position: relative;
  overflow: hidden;
}

/* Cover-top: top border radius */
.dynamic-views .card.card-cover-top.image-format-cover .card-cover {
  border-radius: var(--dynamic-views-card-border-radius, 8px)
    var(--dynamic-views-card-border-radius, 8px) 0 0;
}

/* Cover-bottom: bottom border radius */
.dynamic-views .card.card-cover-bottom.image-format-cover .card-cover {
  border-radius: 0 0 var(--dynamic-views-card-border-radius, 8px)
    var(--dynamic-views-card-border-radius, 8px);
}

/* Cover-left/right: full height */
.dynamic-views .card.card-cover-left.image-format-cover .card-cover,
.dynamic-views .card.card-cover-right.image-format-cover .card-cover {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
}

/* Cover-left: left border radius */
.dynamic-views .card.card-cover-left.image-format-cover .card-cover {
  border-radius: var(--dynamic-views-card-border-radius, 8px) 0 0
    var(--dynamic-views-card-border-radius, 8px);
}

/* Cover-right: right border radius */
.dynamic-views .card.card-cover-right.image-format-cover .card-cover {
  border-radius: 0 var(--dynamic-views-card-border-radius, 8px)
    var(--dynamic-views-card-border-radius, 8px) 0;
}

/* Image element inside cover */
.dynamic-views .card.image-format-cover .card-cover .image-embed {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.dynamic-views .card.image-format-cover .card-cover img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ==================== COVER PLACEHOLDERS ==================== */

/* Hide placeholder by default */
.dynamic-views .card.image-format-cover .card-cover-placeholder {
  display: none;
}

/* Show placeholder in grid view by default (when no Style Settings class present) */
body:not(.dynamic-views-show-cover-placeholder-masonry):not(
    .dynamic-views-show-cover-placeholder-both
  ):not(.dynamic-views-show-cover-placeholder-none)
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-top.image-format-cover
  .card-cover-placeholder,
body:not(.dynamic-views-show-cover-placeholder-masonry):not(
    .dynamic-views-show-cover-placeholder-both
  ):not(.dynamic-views-show-cover-placeholder-none)
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-bottom.image-format-cover
  .card-cover-placeholder {
  display: block;
  width: 100%;
  height: 0;
  padding-top: calc(var(--dynamic-views-image-aspect-ratio, 0.55) * 100%);
}

body:not(.dynamic-views-show-cover-placeholder-masonry):not(
    .dynamic-views-show-cover-placeholder-both
  ):not(.dynamic-views-show-cover-placeholder-none)
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover
  .card-cover-placeholder,
body:not(.dynamic-views-show-cover-placeholder-masonry):not(
    .dynamic-views-show-cover-placeholder-both
  ):not(.dynamic-views-show-cover-placeholder-none)
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover
  .card-cover-placeholder {
  display: block;
  width: 100%;
  height: 100%;
}

/* Show placeholder for top/bottom covers in grid view */
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-top.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-bottom.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-top.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-bottom.image-format-cover
  .card-cover-placeholder {
  display: block;
  width: 100%;
  height: 0;
  padding-top: calc(var(--dynamic-views-image-aspect-ratio, 0.55) * 100%);
}

/* Show placeholder for top/bottom covers in masonry view */
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-top.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-bottom.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-top.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-bottom.image-format-cover
  .card-cover-placeholder {
  display: block;
  width: 100%;
  height: 0;
  padding-top: calc(var(--dynamic-views-image-aspect-ratio, 0.55) * 100%);
}

/* Show placeholder for left/right covers in grid view */
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover
  .card-cover-placeholder {
  display: block;
  width: 100%;
  height: 100%;
}

/* Show placeholder for left/right covers in masonry view */
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover
  .card-cover-placeholder {
  display: block;
  width: 100%;
  height: 100%;
}

/* Placeholder border radius matching card position */
.dynamic-views .card.card-cover-top.image-format-cover .card-cover-placeholder {
  border-radius: var(--dynamic-views-card-border-radius, 8px)
    var(--dynamic-views-card-border-radius, 8px) 0 0;
}

.dynamic-views
  .card.card-cover-bottom.image-format-cover
  .card-cover-placeholder {
  border-radius: 0 0 var(--dynamic-views-card-border-radius, 8px)
    var(--dynamic-views-card-border-radius, 8px);
}

.dynamic-views
  .card.card-cover-left.image-format-cover
  .card-cover-placeholder {
  border-radius: var(--dynamic-views-card-border-radius, 8px) 0 0
    var(--dynamic-views-card-border-radius, 8px);
}

.dynamic-views
  .card.card-cover-right.image-format-cover
  .card-cover-placeholder {
  border-radius: 0 var(--dynamic-views-card-border-radius, 8px)
    var(--dynamic-views-card-border-radius, 8px) 0;
}

/* Hide placeholder-only wrappers when placeholder shouldn't show */

/* Grid view: hide when setting is "In Masonry view" or "Don't show" */
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-grid
  .card-cover-wrapper.card-cover-wrapper-placeholder,
body.dynamic-views-show-cover-placeholder-none
  .dynamic-views
  .dynamic-views-grid
  .card-cover-wrapper.card-cover-wrapper-placeholder {
  display: none;
}

/* Masonry view: hide when setting is "In Grid view" or "Don't show" */
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-masonry
  .card-cover-wrapper.card-cover-wrapper-placeholder,
body.dynamic-views-show-cover-placeholder-none
  .dynamic-views
  .dynamic-views-masonry
  .card-cover-wrapper.card-cover-wrapper-placeholder {
  display: none;
}

/* ==================== CONDITIONAL SIDE COVER SPACING ==================== */

/* Grid view: spacing for cards with actual covers OR when placeholder should show */

/* Cover-left: content padding */
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover)
  .card-title,
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover)
  .card-content,
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover)
  .card-properties,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-properties,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-properties {
  max-width: calc(100% - var(--dynamic-views-side-cover-content-padding));
  margin-left: var(--dynamic-views-side-cover-content-padding);
}

/* Cover-left: minimum card height */
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover),
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder),
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder) {
  min-height: var(--dynamic-views-side-cover-min-height, 175px);
}

/* Cover-right: content padding */
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover)
  .card-title,
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover)
  .card-content,
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover)
  .card-properties,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-properties,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-properties {
  max-width: calc(100% - var(--dynamic-views-side-cover-content-padding));
}

/* Cover-right: minimum card height */
.dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover),
body.dynamic-views-show-cover-placeholder-grid
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder),
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-grid
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder) {
  min-height: var(--dynamic-views-side-cover-min-height, 175px);
}

/* Masonry view: spacing for cards with actual covers OR when placeholder should show */

/* Cover-left: content padding */
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover)
  .card-title,
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover)
  .card-content,
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover)
  .card-properties,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-properties,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder)
  .card-properties {
  max-width: calc(100% - var(--dynamic-views-side-cover-content-padding));
  margin-left: var(--dynamic-views-side-cover-content-padding);
}

/* Cover-left: minimum card height */
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover),
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder),
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-left.image-format-cover:has(.card-cover-placeholder) {
  min-height: var(--dynamic-views-side-cover-min-height, 175px);
}

/* Cover-right: content padding */
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover)
  .card-title,
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover)
  .card-content,
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover)
  .card-properties,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-properties,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-title,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-content,
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder)
  .card-properties {
  max-width: calc(100% - var(--dynamic-views-side-cover-content-padding));
}

/* Cover-right: minimum card height */
.dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover),
body.dynamic-views-show-cover-placeholder-masonry
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder),
body.dynamic-views-show-cover-placeholder-both
  .dynamic-views
  .dynamic-views-masonry
  .card.card-cover-right.image-format-cover:has(.card-cover-placeholder) {
  min-height: var(--dynamic-views-side-cover-min-height, 175px);
}

/* Placeholder color mappings - organized by cover background type */

/* Plain cover background + Tinted card = --background-primary */
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-plain.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-plain.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-plain.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-plain.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder {
  background-color: var(--background-primary);
}

/* Plain cover background + non-Tinted card = --bases-cards-cover-background */
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-plain:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-plain:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-plain:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-plain:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder {
  background-color: var(--bases-cards-cover-background);
}

/* Blur/Ambient cover background + Tinted card = --background-primary */
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-blur.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-blur.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-ambient.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-ambient.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-blur.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-blur.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-ambient.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-ambient.dynamic-views-card-background-tinted
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder {
  background-color: var(--background-primary);
}

/* Blur/Ambient cover background + non-Tinted card = --bases-cards-cover-background */
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-blur:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-blur:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-ambient:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-ambient:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-blur:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-blur:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-ambient:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-ambient:not(
    .dynamic-views-card-background-tinted
  )
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder {
  background-color: var(--bases-cards-cover-background);
}

/* Custom color cover background + all cards = --dynamic-views-cover-background-custom-color */
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-custom
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-custom
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-custom
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-custom
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder {
  background-color: var(--dynamic-views-cover-background-custom-color);
}

/* Transparent cover background + all cards = transparent (not visible) */
body.dynamic-views-show-cover-placeholder-grid.dynamic-views-cover-bg-transparent
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-transparent
  .dynamic-views
  .dynamic-views-grid
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-masonry.dynamic-views-cover-bg-transparent
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder,
body.dynamic-views-show-cover-placeholder-both.dynamic-views-cover-bg-transparent
  .dynamic-views
  .dynamic-views-masonry
  .card.image-format-cover
  .card-cover-placeholder {
  background-color: transparent;
}

/* ==================== CAROUSEL STYLES ==================== */

/* Slides container - inherits positioning from .card-cover */
.dynamic-views .carousel-slides {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Individual slides */
.dynamic-views .carousel-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transition:
    transform 0.3s ease-in-out,
    opacity 0.3s ease-in-out;
}

.dynamic-views .carousel-slide.slide-left {
  opacity: 0;
  pointer-events: none;
  transform: translateX(-100%);
}

.dynamic-views .carousel-slide.slide-right {
  opacity: 0;
  pointer-events: none;
  transform: translateX(100%);
}

/* is-active must come last to override position classes */
.dynamic-views .carousel-slide.is-active {
  opacity: 1;
  pointer-events: auto;
  transform: translateX(0);
}

/* Navigation arrows */
.dynamic-views .carousel-nav-left,
.dynamic-views .carousel-nav-right {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 3;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.dynamic-views .carousel-nav-left {
  left: 4px;
}

.dynamic-views .carousel-nav-right {
  right: 4px;
}

/* Show arrows on hover */
.dynamic-views .card-cover-carousel:hover .carousel-nav-left,
.dynamic-views .card-cover-carousel:hover .carousel-nav-right {
  opacity: 1;
}

/* Arrow icons */
.dynamic-views .carousel-nav-left svg,
.dynamic-views .carousel-nav-right svg {
  width: 20px;
  height: 20px;
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.6))
    drop-shadow(0 0 4px rgba(0, 0, 0, 0.4));
}

.theme-light .dynamic-views .carousel-nav-left svg,
.theme-light .dynamic-views .carousel-nav-right svg {
  color: white;
}

.theme-dark .dynamic-views .carousel-nav-left svg,
.theme-dark .dynamic-views .carousel-nav-right svg {
  color: rgb(209, 209, 209);
}

/* Mobile: Always show arrows and larger touch targets */
.is-mobile .dynamic-views .carousel-nav-left,
.is-mobile .dynamic-views .carousel-nav-right {
  opacity: 1;
}

.is-mobile .dynamic-views .carousel-nav-left svg,
.is-mobile .dynamic-views .carousel-nav-right svg {
  width: 24px;
  height: 24px;
}

/* Slideshow indicator */
.dynamic-views .carousel-indicator {
  position: absolute;
  right: 8px;
  bottom: calc(8px + var(--image-offset-bottom, 0px));
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  z-index: 3;
}

.dynamic-views .carousel-indicator svg {
  width: 16px;
  height: 16px;
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.6))
    drop-shadow(0 0 4px rgba(0, 0, 0, 0.4));
}

.theme-light .dynamic-views .carousel-indicator svg {
  color: white;
}

.theme-dark .dynamic-views .carousel-indicator svg {
  color: rgb(209, 209, 209);
}

/* Hide indicator when zoomed */
.dynamic-views .image-embed.is-zoomed .carousel-indicator {
  display: none;
}

/* Mobile: Larger indicator */
.is-mobile .dynamic-views .carousel-indicator {
  width: 24px;
  height: 24px;
  right: 6px;
  bottom: calc(6px + var(--image-offset-bottom, 0px));
}

.is-mobile .dynamic-views .carousel-indicator svg {
  width: 20px;
  height: 20px;
}

/* Cover bottom position: move indicator to top */
.dynamic-views .card.card-cover-bottom .carousel-indicator {
  top: 8px;
  bottom: auto;
}

.is-mobile .dynamic-views .card.card-cover-bottom .carousel-indicator {
  top: 6px;
}

/* Base properties container styles */
.dynamic-views .card-properties {
  font-size: var(
    --dynamic-views-property-master-font-size,
    var(--font-smaller)
  );
  color: var(--text-faint);
  min-height: 24px;
  line-height: 1.4;
  white-space: nowrap;
  min-width: 0;
  overflow: hidden;
}

/* Property field text color and font */
.dynamic-views .property-field {
  color: var(--text-faint);
  font-family: var(--dynamic-views-property-master-font, inherit);
}

/* Timestamp wrapper - flex container for icon positioning */
.dynamic-views .property-content > span:has(.timestamp-icon) {
  display: inline-flex;
  align-items: center;
  gap: 0;
}

/* Timestamp icon - visible by default with "edge" positioning */
.dynamic-views .timestamp-icon {
  display: inline-flex;
  flex-shrink: 0;
  opacity: 0.7;
  width: 1em;
  height: 1em;
  margin-right: 0.3em;
}

/* Edge positioning is default: right-side fields (even) show icon on right */
.dynamic-views .property-field-2 .timestamp-icon,
.dynamic-views .property-field-4 .timestamp-icon,
.dynamic-views .property-field-6 .timestamp-icon,
.dynamic-views .property-field-8 .timestamp-icon,
.dynamic-views .property-field-10 .timestamp-icon,
.dynamic-views .property-field-12 .timestamp-icon,
.dynamic-views .property-field-14 .timestamp-icon {
  order: 2;
  margin-right: 0;
  margin-left: 0.3em;
}

/* Hide icon when "hide" option selected */
body.dynamic-views-timestamp-icon-hide .dynamic-views .timestamp-icon {
  display: none;
}

/* When icon is on right for all fields */
body.dynamic-views-timestamp-icon-right .dynamic-views .timestamp-icon {
  margin-right: 0;
  margin-left: 0.3em;
}

/* Center positioning: odd fields (left side) show icon on right */
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-1
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-3
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-5
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-7
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-9
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-11
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-13
  .timestamp-icon {
  order: 2;
  margin-right: 0;
  margin-left: 0.3em;
}

/* Center positioning: even fields (right side) show icon on left */
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-2
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-4
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-6
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-8
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-10
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-12
  .timestamp-icon,
body.dynamic-views-timestamp-icon-center
  .dynamic-views
  .property-field-14
  .timestamp-icon {
  order: 0;
  margin-right: 0.3em;
  margin-left: 0;
}

/* Left positioning: even fields (right side) reset to left */
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-2
  .timestamp-icon,
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-4
  .timestamp-icon,
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-6
  .timestamp-icon,
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-8
  .timestamp-icon,
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-10
  .timestamp-icon,
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-12
  .timestamp-icon,
body.dynamic-views-timestamp-icon-left
  .dynamic-views
  .property-field-14
  .timestamp-icon {
  order: 0;
  margin-right: 0.3em;
  margin-left: 0;
}

/* Right positioning: all icons on right */
body.dynamic-views-timestamp-icon-right .dynamic-views .timestamp-icon {
  order: 2;
}

.dynamic-views .timestamp-icon svg {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

.dynamic-views .tags-wrapper {
  display: flex;
  align-items: center;
  gap: 4px;
  white-space: nowrap;
  flex-shrink: 0;
  min-width: 0;
  height: 20px;
}

.dynamic-views .path-wrapper {
  display: inline-flex;
  align-items: center;
  white-space: nowrap;
  flex-shrink: 0;
  height: 20px;
}

.dynamic-views .text-wrapper {
  display: inline-flex;
  align-items: center;
  white-space: nowrap;
  flex-shrink: 0;
  height: 20px;
}

/* Preserve whitespace in text spans within flex containers */
.dynamic-views
  .text-wrapper
  > span:not(.internal-link):not(.external-link):not(.tag) {
  white-space: pre;
}

/* Path segments must be inline for ellipsis to work across the whole path */
.dynamic-views .path-wrapper > span {
  display: inline;
}

/* Base tag styles */
.dynamic-views .card-properties .tag,
.dynamic-views .card-subtitle .tag,
.dynamic-views .list-meta .tag {
  text-decoration: none;
  white-space: nowrap;
  flex-shrink: 0;
}

.dynamic-views .list-meta .tag {
  display: inline-block;
  cursor: pointer;
  font-size: 0.85em;
}

/* Tag style: Outline (default) */
.dynamic-views .card-properties .tag,
.dynamic-views .card-subtitle .tag,
.dynamic-views .list-meta .tag {
  background-color: transparent;
  border-radius: var(--tag-radius);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-faint);
}

.dynamic-views .card-properties .tag:hover,
.dynamic-views .card-subtitle .tag:hover,
.dynamic-views .list-meta .tag:hover {
  border-color: var(--background-modifier-border-hover);
  opacity: 1;
}

/* Property tags - default faint color (Style Settings OFF) */
.dynamic-views .card-properties .tag {
  color: var(--text-faint);
  border-color: var(--background-modifier-border);
}

.dynamic-views .card-properties .tag:hover {
  border-color: var(--background-modifier-border-hover);
}

/* Tag style: Match theme */
body.dynamic-views-tag-style-theme .dynamic-views .card-properties .tag,
body.dynamic-views-tag-style-theme .dynamic-views .card-subtitle .tag,
body.dynamic-views-tag-style-theme .dynamic-views .list-meta .tag {
  background-color: var(--tag-background);
  color: var(--tag-color);
  border: none;
  border-radius: var(--tag-radius);
}

body.dynamic-views-tag-style-theme .dynamic-views .card-properties .tag:hover,
body.dynamic-views-tag-style-theme .dynamic-views .card-subtitle .tag:hover,
body.dynamic-views-tag-style-theme .dynamic-views .list-meta .tag:hover {
  background-color: var(--tag-background-hover);
  color: var(--tag-color);
  opacity: 1;
}

/* Tag style: Plaintext */
body.dynamic-views-tag-style-plaintext .dynamic-views .card-properties .tag,
body.dynamic-views-tag-style-plaintext .dynamic-views .card-subtitle .tag,
body.dynamic-views-tag-style-plaintext .dynamic-views .list-meta .tag {
  background-color: transparent;
  border: none;
  padding: 0;
  border-radius: 0;
  font-size: inherit;
}

body.dynamic-views-tag-style-plaintext
  .dynamic-views
  .card-properties
  .tag:hover {
  text-decoration: underline;
}

/* Tag color presets */
body.dynamic-views-tag-color-faint .dynamic-views .tag {
  color: var(--text-faint);
}
body.dynamic-views-tag-color-muted .dynamic-views .tag {
  color: var(--text-muted);
}
body.dynamic-views-tag-color-normal .dynamic-views .tag {
  color: var(--text-normal);
}
body.dynamic-views-tag-color-accent .dynamic-views .tag {
  color: var(--text-accent);
}
body.dynamic-views-tag-color-red .dynamic-views .tag {
  color: var(--color-red);
}
body.dynamic-views-tag-color-orange .dynamic-views .tag {
  color: var(--color-orange);
}
body.dynamic-views-tag-color-yellow .dynamic-views .tag {
  color: var(--color-yellow);
}
body.dynamic-views-tag-color-green .dynamic-views .tag {
  color: var(--color-green);
}
body.dynamic-views-tag-color-cyan .dynamic-views .tag {
  color: var(--color-cyan);
}
body.dynamic-views-tag-color-blue .dynamic-views .tag {
  color: var(--color-blue);
}
body.dynamic-views-tag-color-purple .dynamic-views .tag {
  color: var(--color-purple);
}
body.dynamic-views-tag-color-pink .dynamic-views .tag {
  color: var(--color-pink);
}
body.dynamic-views-tag-color-custom .dynamic-views .tag {
  color: var(--dynamic-views-tag-color-custom, var(--text-faint));
}

/* Pill style: colorful presets also color the border */
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-accent
  .dynamic-views
  .tag {
  border-color: var(--text-accent);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-red
  .dynamic-views
  .tag {
  border-color: var(--color-red);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-orange
  .dynamic-views
  .tag {
  border-color: var(--color-orange);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-yellow
  .dynamic-views
  .tag {
  border-color: var(--color-yellow);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-green
  .dynamic-views
  .tag {
  border-color: var(--color-green);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-cyan
  .dynamic-views
  .tag {
  border-color: var(--color-cyan);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-blue
  .dynamic-views
  .tag {
  border-color: var(--color-blue);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-purple
  .dynamic-views
  .tag {
  border-color: var(--color-purple);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-pink
  .dynamic-views
  .tag {
  border-color: var(--color-pink);
}
body.dynamic-views-tag-style-pill.dynamic-views-tag-color-custom
  .dynamic-views
  .tag {
  border-color: var(
    --dynamic-views-tag-color-custom,
    var(--background-modifier-border)
  );
}

.dynamic-views .file-path-segment,
.dynamic-views .folder-segment,
.dynamic-views .filename-segment {
  color: inherit;
  white-space: nowrap;
  cursor: pointer;
}

.dynamic-views .file-path-segment:hover,
.dynamic-views .folder-segment:hover,
.dynamic-views .filename-segment:hover {
  text-decoration: underline;
}

.dynamic-views .path-separator {
  color: inherit;
  margin: 0 2px;
  user-select: none;
}

/* ============================================
   4-FIELD PROPERTIES SYSTEM
   ============================================ */

.dynamic-views .card-properties.properties-4field {
  display: flex;
  flex-direction: column;
  gap: 4px;
  grid-template-columns: unset;
  min-height: auto;
}

.dynamic-views .property-row {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-1);
  width: 100%;
  min-width: 0;
}

.dynamic-views .property-row.property-row-sidebyside {
  flex-direction: row;
  gap: var(--dynamic-views-element-spacing, 8px);
}

/* Right alignment for full-row properties with inline labels - value only */
body.dynamic-views-full-row-align-right
  .dynamic-views
  .property-row:not(.property-row-sidebyside)
  .property-field:has(.property-label-inline)
  .property-content-wrapper {
  flex: 0 1 auto;
  margin-left: auto;
}

/* Meta-field: scrollable container */
.dynamic-views .property-field {
  display: flex;
  align-items: center;
  min-width: 0;
  overflow-x: visible; /* Field doesn't scroll, wrapper does */
  scrollbar-width: none;
  position: relative;
  direction: ltr;
}

/* Gap between inline label and content */
.dynamic-views .property-field:has(.property-label-inline) {
  gap: var(--size-4-1);
}

/* Vertical layout when labels are on top */
.dynamic-views .property-field:has(.property-label) {
  flex-direction: column;
  align-items: stretch;
  overflow-x: visible; /* Override overflow - labels should not scroll */
}

/* Labels should never scroll */
.dynamic-views .property-field:has(.property-label) .property-label {
  flex-shrink: 0;
  overflow: visible;
}

/* Property content wrapper - handles scrolling and masking */
.dynamic-views .property-content-wrapper {
  display: flex;
  min-width: 0;
  overflow-x: auto;
  scrollbar-width: none;
  position: relative;
}

.dynamic-views .property-content-wrapper::-webkit-scrollbar {
  display: none;
}

/* For inline labels: wrapper takes remaining space after label */
.dynamic-views
  .property-field:has(.property-label-inline)
  .property-content-wrapper {
  flex: 1 1 0;
  min-width: 0;
}

/* For labels above or no labels: wrapper takes full width */
.dynamic-views .property-field:has(.property-label) .property-content-wrapper,
.dynamic-views
  .property-field:not(:has(.property-label)):not(:has(.property-label-inline))
  .property-content-wrapper {
  width: 100%;
}

/* During measurement: wrapper shouldn't constrain content */
.dynamic-views
  .property-row.property-row-sidebyside.property-measuring
  .property-content-wrapper {
  width: auto;
  max-width: none;
  overflow-x: visible;
  flex: 0 1 auto; /* Override flex: 1 1 0 from inline label mode to allow natural sizing */
}

.dynamic-views
  .property-row.property-row-sidebyside.property-measuring
  .property-content {
  width: max-content;
  max-width: none;
}

/* During measurement: fields shouldn't constrain content */
.dynamic-views
  .property-row.property-row-sidebyside.property-measuring
  .property-field {
  width: auto !important;
  max-width: none !important;
}

/* Default state: fields split space equally with 50% max */
.dynamic-views .property-row.property-row-sidebyside .property-field {
  flex: 1 1 0;
  max-width: 50%;
}

/* Measured state: use calculated widths from CSS variables, remove 50% cap */
/* Odd fields (left side) use --field1-width */
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-1,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-3,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-5,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-7,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-9,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-11,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-13 {
  width: var(--field1-width);
  flex: 0 0 auto;
  max-width: none;
}

/* Even fields (right side) use --field2-width */
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-2,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-4,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-6,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-8,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-10,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-12,
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-field-14 {
  width: var(--field2-width);
  flex: 0 0 auto;
  max-width: none;
}

/* Measured state: wrapper fills calculated field width */
.dynamic-views
  .property-row.property-row-sidebyside.property-measured
  .property-content-wrapper {
  flex: 1 1 auto;
  min-width: 0;
}

/* Property label (above mode) */
.dynamic-views .property-label {
  font-size: var(
    --dynamic-views-property-label-font-size,
    var(--font-ui-smaller)
  );
  font-family: var(--dynamic-views-property-label-font, inherit);
  color: var(--text-faint);
  margin-bottom: var(--size-2-1);
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* Property label inline - as sibling of property-content */
.dynamic-views .property-label-inline {
  font-size: var(
    --dynamic-views-property-label-font-size,
    var(--font-ui-smaller)
  );
  font-family: var(--dynamic-views-property-label-font, inherit);
  color: var(--text-faint);
  white-space: nowrap;
  flex-shrink: 0;
  z-index: 2;
  background: inherit;
  height: var(--dynamic-views-property-content-height, 20px);
  display: flex;
  align-items: center;
}

/* Property label case transformations */
body.dynamic-views-property-label-case-lowercase .dynamic-views .property-label,
body.dynamic-views-property-label-case-lowercase
  .dynamic-views
  .property-label-inline {
  text-transform: lowercase;
}

body.dynamic-views-property-label-case-uppercase .dynamic-views .property-label,
body.dynamic-views-property-label-case-uppercase
  .dynamic-views
  .property-label-inline {
  text-transform: uppercase;
}

/* Property label bold */
body.dynamic-views-property-label-bold .dynamic-views .property-label,
body.dynamic-views-property-label-bold .dynamic-views .property-label-inline {
  font-weight: var(--font-semibold);
}

/* Property label small caps */
body.dynamic-views-property-label-small-caps .dynamic-views .property-label,
body.dynamic-views-property-label-small-caps
  .dynamic-views
  .property-label-inline {
  font-variant: small-caps;
}

/* Property label color presets */
body.dynamic-views-property-label-color-faint .dynamic-views .property-label,
body.dynamic-views-property-label-color-faint
  .dynamic-views
  .property-label-inline {
  color: var(--text-faint);
}

body.dynamic-views-property-label-color-muted .dynamic-views .property-label,
body.dynamic-views-property-label-color-muted
  .dynamic-views
  .property-label-inline {
  color: var(--text-muted);
}

body.dynamic-views-property-label-color-normal .dynamic-views .property-label,
body.dynamic-views-property-label-color-normal
  .dynamic-views
  .property-label-inline {
  color: var(--text-normal);
}

body.dynamic-views-property-label-color-accent .dynamic-views .property-label,
body.dynamic-views-property-label-color-accent
  .dynamic-views
  .property-label-inline {
  color: var(--text-accent);
}

body.dynamic-views-property-label-color-red .dynamic-views .property-label,
body.dynamic-views-property-label-color-red
  .dynamic-views
  .property-label-inline {
  color: var(--color-red);
}

body.dynamic-views-property-label-color-orange .dynamic-views .property-label,
body.dynamic-views-property-label-color-orange
  .dynamic-views
  .property-label-inline {
  color: var(--color-orange);
}

body.dynamic-views-property-label-color-yellow .dynamic-views .property-label,
body.dynamic-views-property-label-color-yellow
  .dynamic-views
  .property-label-inline {
  color: var(--color-yellow);
}

body.dynamic-views-property-label-color-green .dynamic-views .property-label,
body.dynamic-views-property-label-color-green
  .dynamic-views
  .property-label-inline {
  color: var(--color-green);
}

body.dynamic-views-property-label-color-cyan .dynamic-views .property-label,
body.dynamic-views-property-label-color-cyan
  .dynamic-views
  .property-label-inline {
  color: var(--color-cyan);
}

body.dynamic-views-property-label-color-blue .dynamic-views .property-label,
body.dynamic-views-property-label-color-blue
  .dynamic-views
  .property-label-inline {
  color: var(--color-blue);
}

body.dynamic-views-property-label-color-purple .dynamic-views .property-label,
body.dynamic-views-property-label-color-purple
  .dynamic-views
  .property-label-inline {
  color: var(--color-purple);
}

body.dynamic-views-property-label-color-pink .dynamic-views .property-label,
body.dynamic-views-property-label-color-pink
  .dynamic-views
  .property-label-inline {
  color: var(--color-pink);
}

body.dynamic-views-property-label-color-custom .dynamic-views .property-label,
body.dynamic-views-property-label-color-custom
  .dynamic-views
  .property-label-inline {
  color: var(--dynamic-views-property-label-color-custom, var(--text-faint));
}

/* Property text color presets */
body.dynamic-views-property-color-faint .dynamic-views .property-field {
  color: var(--text-faint);
}
body.dynamic-views-property-color-muted .dynamic-views .property-field {
  color: var(--text-muted);
}
body.dynamic-views-property-color-normal .dynamic-views .property-field {
  color: var(--text-normal);
}
body.dynamic-views-property-color-accent .dynamic-views .property-field {
  color: var(--text-accent);
}
body.dynamic-views-property-color-red .dynamic-views .property-field {
  color: var(--color-red);
}
body.dynamic-views-property-color-orange .dynamic-views .property-field {
  color: var(--color-orange);
}
body.dynamic-views-property-color-yellow .dynamic-views .property-field {
  color: var(--color-yellow);
}
body.dynamic-views-property-color-green .dynamic-views .property-field {
  color: var(--color-green);
}
body.dynamic-views-property-color-cyan .dynamic-views .property-field {
  color: var(--color-cyan);
}
body.dynamic-views-property-color-blue .dynamic-views .property-field {
  color: var(--color-blue);
}
body.dynamic-views-property-color-purple .dynamic-views .property-field {
  color: var(--color-purple);
}
body.dynamic-views-property-color-pink .dynamic-views .property-field {
  color: var(--color-pink);
}
body.dynamic-views-property-color-custom .dynamic-views .property-field {
  color: var(--dynamic-views-property-color-custom, var(--text-faint));
}

/* Links in properties use Obsidian default colors (not property text color) */
.dynamic-views .property-field a.internal-link {
  color: var(--link-color);
}
.dynamic-views .property-field a.internal-link:hover {
  color: var(--link-color-hover);
}
.dynamic-views .property-field a.external-link {
  color: var(--link-external-color);
}
.dynamic-views .property-field a.external-link:hover {
  color: var(--link-external-color-hover);
}

/* Subtitle color presets */
body.dynamic-views-subtitle-color-faint .dynamic-views .card-subtitle {
  color: var(--text-faint);
}

body.dynamic-views-subtitle-color-muted .dynamic-views .card-subtitle {
  color: var(--text-muted);
}

body.dynamic-views-subtitle-color-normal .dynamic-views .card-subtitle {
  color: var(--text-normal);
}

body.dynamic-views-subtitle-color-accent .dynamic-views .card-subtitle {
  color: var(--text-accent);
}

body.dynamic-views-subtitle-color-red .dynamic-views .card-subtitle {
  color: var(--color-red);
}

body.dynamic-views-subtitle-color-orange .dynamic-views .card-subtitle {
  color: var(--color-orange);
}

body.dynamic-views-subtitle-color-yellow .dynamic-views .card-subtitle {
  color: var(--color-yellow);
}

body.dynamic-views-subtitle-color-green .dynamic-views .card-subtitle {
  color: var(--color-green);
}

body.dynamic-views-subtitle-color-cyan .dynamic-views .card-subtitle {
  color: var(--color-cyan);
}

body.dynamic-views-subtitle-color-blue .dynamic-views .card-subtitle {
  color: var(--color-blue);
}

body.dynamic-views-subtitle-color-purple .dynamic-views .card-subtitle {
  color: var(--color-purple);
}

body.dynamic-views-subtitle-color-pink .dynamic-views .card-subtitle {
  color: var(--color-pink);
}

body.dynamic-views-subtitle-color-custom .dynamic-views .card-subtitle {
  color: var(--dynamic-views-subtitle-color-custom, var(--text-faint));
}

/* Text preview color presets */
body.dynamic-views-text-preview-color-faint .dynamic-views .card-text-preview {
  color: var(--text-faint);
}

body.dynamic-views-text-preview-color-muted .dynamic-views .card-text-preview {
  color: var(--text-muted);
}

body.dynamic-views-text-preview-color-normal .dynamic-views .card-text-preview {
  color: var(--text-normal);
}

body.dynamic-views-text-preview-color-accent .dynamic-views .card-text-preview {
  color: var(--text-accent);
}

body.dynamic-views-text-preview-color-red .dynamic-views .card-text-preview {
  color: var(--color-red);
}

body.dynamic-views-text-preview-color-orange .dynamic-views .card-text-preview {
  color: var(--color-orange);
}

body.dynamic-views-text-preview-color-yellow .dynamic-views .card-text-preview {
  color: var(--color-yellow);
}

body.dynamic-views-text-preview-color-green .dynamic-views .card-text-preview {
  color: var(--color-green);
}

body.dynamic-views-text-preview-color-cyan .dynamic-views .card-text-preview {
  color: var(--color-cyan);
}

body.dynamic-views-text-preview-color-blue .dynamic-views .card-text-preview {
  color: var(--color-blue);
}

body.dynamic-views-text-preview-color-purple .dynamic-views .card-text-preview {
  color: var(--color-purple);
}

body.dynamic-views-text-preview-color-pink .dynamic-views .card-text-preview {
  color: var(--color-pink);
}

body.dynamic-views-text-preview-color-custom .dynamic-views .card-text-preview {
  color: var(--dynamic-views-text-preview-color-custom, var(--text-muted));
}

/* Title color presets */
body.dynamic-views-title-color-faint .dynamic-views .card-title {
  color: var(--text-faint);
}

body.dynamic-views-title-color-muted .dynamic-views .card-title {
  color: var(--text-muted);
}

body.dynamic-views-title-color-normal .dynamic-views .card-title {
  color: var(--text-normal);
}

body.dynamic-views-title-color-accent .dynamic-views .card-title {
  color: var(--text-accent);
}

body.dynamic-views-title-color-red .dynamic-views .card-title {
  color: var(--color-red);
}

body.dynamic-views-title-color-orange .dynamic-views .card-title {
  color: var(--color-orange);
}

body.dynamic-views-title-color-yellow .dynamic-views .card-title {
  color: var(--color-yellow);
}

body.dynamic-views-title-color-green .dynamic-views .card-title {
  color: var(--color-green);
}

body.dynamic-views-title-color-cyan .dynamic-views .card-title {
  color: var(--color-cyan);
}

body.dynamic-views-title-color-blue .dynamic-views .card-title {
  color: var(--color-blue);
}

body.dynamic-views-title-color-purple .dynamic-views .card-title {
  color: var(--color-purple);
}

body.dynamic-views-title-color-pink .dynamic-views .card-title {
  color: var(--color-pink);
}

body.dynamic-views-title-color-custom .dynamic-views .card-title {
  color: var(--dynamic-views-title-color-custom, var(--text-normal));
}

/* ============================================
   HOVER COLOR RULES FOR CLICKABLE ELEMENTS
   ============================================ */

@media (hover: hover) {
  /* Title hover colors (when open-on-title enabled) */
  body.dynamic-views-open-on-title.dynamic-views-title-color-faint
    .dynamic-views
    .card-title
    a:hover {
    color: var(--text-muted);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-muted
    .dynamic-views
    .card-title
    a:hover {
    color: var(--text-normal);
  }
  /* Normal - no hover color change */
  body.dynamic-views-open-on-title.dynamic-views-title-color-accent
    .dynamic-views
    .card-title
    a:hover {
    color: var(--text-accent-hover);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-red
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-red), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-orange
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-orange), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-yellow
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-yellow), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-green
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-green), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-cyan
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-cyan), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-blue
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-blue), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-purple
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-purple), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-pink
    .dynamic-views
    .card-title
    a:hover {
    color: color-mix(in hsl, var(--color-pink), white 15%);
  }
  body.dynamic-views-open-on-title.dynamic-views-title-color-custom
    .dynamic-views
    .card-title
    a:hover {
    color: var(
      --dynamic-views-title-color-custom-hover,
      var(--dynamic-views-title-color-custom, var(--text-normal))
    );
  }

  /* Subtitle hover colors (when clickable) */
  body.dynamic-views-subtitle-color-faint
    .dynamic-views
    .card-subtitle
    a:hover {
    color: var(--text-muted);
  }
  body.dynamic-views-subtitle-color-muted
    .dynamic-views
    .card-subtitle
    a:hover {
    color: var(--text-normal);
  }
  /* Normal - no hover color change */
  body.dynamic-views-subtitle-color-accent
    .dynamic-views
    .card-subtitle
    a:hover {
    color: var(--text-accent-hover);
  }
  body.dynamic-views-subtitle-color-red .dynamic-views .card-subtitle a:hover {
    color: color-mix(in hsl, var(--color-red), white 15%);
  }
  body.dynamic-views-subtitle-color-orange
    .dynamic-views
    .card-subtitle
    a:hover {
    color: color-mix(in hsl, var(--color-orange), white 15%);
  }
  body.dynamic-views-subtitle-color-yellow
    .dynamic-views
    .card-subtitle
    a:hover {
    color: color-mix(in hsl, var(--color-yellow), white 15%);
  }
  body.dynamic-views-subtitle-color-green
    .dynamic-views
    .card-subtitle
    a:hover {
    color: color-mix(in hsl, var(--color-green), white 15%);
  }
  body.dynamic-views-subtitle-color-cyan .dynamic-views .card-subtitle a:hover {
    color: color-mix(in hsl, var(--color-cyan), white 15%);
  }
  body.dynamic-views-subtitle-color-blue .dynamic-views .card-subtitle a:hover {
    color: color-mix(in hsl, var(--color-blue), white 15%);
  }
  body.dynamic-views-subtitle-color-purple
    .dynamic-views
    .card-subtitle
    a:hover {
    color: color-mix(in hsl, var(--color-purple), white 15%);
  }
  body.dynamic-views-subtitle-color-pink .dynamic-views .card-subtitle a:hover {
    color: color-mix(in hsl, var(--color-pink), white 15%);
  }
  body.dynamic-views-subtitle-color-custom
    .dynamic-views
    .card-subtitle
    a:hover {
    color: var(
      --dynamic-views-subtitle-color-custom-hover,
      var(--dynamic-views-subtitle-color-custom, var(--text-faint))
    );
  }

  /* Property hover colors (for clickable links and path segments, excluding tags) */
  body.dynamic-views-property-color-faint
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-faint
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: var(--text-muted);
  }
  body.dynamic-views-property-color-muted
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-muted
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: var(--text-normal);
  }
  /* Normal - no hover color change */
  body.dynamic-views-property-color-accent
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-accent
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: var(--text-accent-hover);
  }
  body.dynamic-views-property-color-red
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-red
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-red), white 15%);
  }
  body.dynamic-views-property-color-orange
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-orange
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-orange), white 15%);
  }
  body.dynamic-views-property-color-yellow
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-yellow
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-yellow), white 15%);
  }
  body.dynamic-views-property-color-green
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-green
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-green), white 15%);
  }
  body.dynamic-views-property-color-cyan
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-cyan
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-cyan), white 15%);
  }
  body.dynamic-views-property-color-blue
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-blue
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-blue), white 15%);
  }
  body.dynamic-views-property-color-purple
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-purple
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-purple), white 15%);
  }
  body.dynamic-views-property-color-pink
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-pink
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: color-mix(in hsl, var(--color-pink), white 15%);
  }
  body.dynamic-views-property-color-custom
    .dynamic-views
    .property-content
    a:not(.tag):not(.internal-link):not(.external-link):hover,
  body.dynamic-views-property-color-custom
    .dynamic-views
    .property-content
    :is(.file-path-segment, .folder-segment, .filename-segment):hover {
    color: var(--dynamic-views-property-color-custom-hover, var(--text-muted));
  }

  /* Tag hover colors */
  body.dynamic-views-tag-color-faint .dynamic-views .tag:hover {
    color: var(--text-muted);
  }
  body.dynamic-views-tag-color-muted .dynamic-views .tag:hover {
    color: var(--text-normal);
  }
  /* Normal - no hover color change */
  body.dynamic-views-tag-color-accent .dynamic-views .tag:hover {
    color: var(--text-accent-hover);
  }
  body.dynamic-views-tag-color-red .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-red), white 15%);
  }
  body.dynamic-views-tag-color-orange .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-orange), white 15%);
  }
  body.dynamic-views-tag-color-yellow .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-yellow), white 15%);
  }
  body.dynamic-views-tag-color-green .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-green), white 15%);
  }
  body.dynamic-views-tag-color-cyan .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-cyan), white 15%);
  }
  body.dynamic-views-tag-color-blue .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-blue), white 15%);
  }
  body.dynamic-views-tag-color-purple .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-purple), white 15%);
  }
  body.dynamic-views-tag-color-pink .dynamic-views .tag:hover {
    color: color-mix(in hsl, var(--color-pink), white 15%);
  }
  body.dynamic-views-tag-color-custom .dynamic-views .tag:hover {
    color: var(--dynamic-views-tag-color-custom-hover, var(--text-muted));
  }

  /* Pill border hover colors for colorful presets */
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-red
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-red), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-orange
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-orange), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-yellow
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-yellow), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-green
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-green), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-cyan
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-cyan), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-blue
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-blue), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-purple
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-purple), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-pink
    .dynamic-views
    .tag:hover {
    border-color: color-mix(in hsl, var(--color-pink), white 15%);
  }
  body.dynamic-views-tag-style-pill.dynamic-views-tag-color-custom
    .dynamic-views
    .tag:hover {
    border-color: var(
      --dynamic-views-tag-color-custom-hover,
      var(--background-modifier-border-hover)
    );
  }
}

/* Odd fields (left side) - label padding */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-1,
    .property-field-3,
    .property-field-5,
    .property-field-7,
    .property-field-9,
    .property-field-11,
    .property-field-13
  )
  .property-label-inline {
  padding-right: var(--size-4-1);
}

/* Even fields (right side) - label padding and order */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-2,
    .property-field-4,
    .property-field-6,
    .property-field-8,
    .property-field-10,
    .property-field-12,
    .property-field-14
  )
  .property-label-inline {
  padding-left: var(--size-4-1);
  order: 2;
}

/* Even fields (right side) - content before label */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-2,
    .property-field-4,
    .property-field-6,
    .property-field-8,
    .property-field-10,
    .property-field-12,
    .property-field-14
  )
  .property-content {
  order: 1;
}

/* Odd fields (left side) - left-aligned labels */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-1,
    .property-field-3,
    .property-field-5,
    .property-field-7,
    .property-field-9,
    .property-field-11,
    .property-field-13
  )
  .property-label {
  text-align: left;
}

/* Even fields (right side) - right-aligned labels */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-2,
    .property-field-4,
    .property-field-6,
    .property-field-8,
    .property-field-10,
    .property-field-12,
    .property-field-14
  )
  .property-label {
  text-align: right;
}

/* Universal meta-content wrapper */
.dynamic-views .property-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
  flex-shrink: 0;
  white-space: nowrap;
  height: var(--dynamic-views-property-content-height, 20px);
  color: inherit;
  min-width: 0;
  flex: 0 0 auto;
  width: max-content;
}

/* Empty value marker styling (inherited by default, faded when enabled) */
body.dynamic-views-fade-empty-marker
  .dynamic-views
  .property-content
  > span.empty-value-marker {
  color: var(--text-faint);
}

/* Even fields (right side) - content should fill wrapper width for proper alignment */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-2,
    .property-field-4,
    .property-field-6,
    .property-field-8,
    .property-field-10,
    .property-field-12,
    .property-field-14
  )
  .property-content {
  min-width: 100%;
  width: max-content;
  justify-content: flex-end;
}

/* Array list wrapper - ensure items display inline */
.dynamic-views .property-content .list-wrapper {
  display: inline;
}

.dynamic-views .property-content .list-wrapper > span {
  display: inline;
}

.dynamic-views .property-content .list-item {
  display: inline;
}

.dynamic-views .property-content .list-separator {
  display: inline;
}

/* List separator styling (inherited by default, faded when enabled) */
body.dynamic-views-fade-list-separator .dynamic-views .list-separator {
  color: var(--text-faint);
}

/* Measurement state: remove min-width to allow natural sizing */
.dynamic-views
  .property-row.property-row-sidebyside.property-measuring
  .property-content {
  min-width: 0 !important;
}

/* Alignment via justify-content on meta-content wrapper */
/* Odd fields (left side) */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-1,
    .property-field-3,
    .property-field-5,
    .property-field-7,
    .property-field-9,
    .property-field-11,
    .property-field-13
  )
  .property-content {
  justify-content: flex-start;
}

/* Even fields (right side) - align content right when not scrollable */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-2,
    .property-field-4,
    .property-field-6,
    .property-field-8,
    .property-field-10,
    .property-field-12,
    .property-field-14
  ):not(.is-scrollable)
  .property-content-wrapper {
  justify-content: flex-end;
}

/* Even fields (right side) - align content left when scrollable */
.dynamic-views
  .property-row-sidebyside
  :is(
    .property-field-2,
    .property-field-4,
    .property-field-6,
    .property-field-8,
    .property-field-10,
    .property-field-12,
    .property-field-14
  ).is-scrollable
  .property-content-wrapper {
  justify-content: flex-start;
}

/* Stacked layout */
.dynamic-views .property-row:not(.property-row-sidebyside) .property-content {
  justify-content: flex-start;
}

/* Hide scrollbar for side-by-side fields */
.dynamic-views .property-row-sidebyside .property-field::-webkit-scrollbar {
  display: none;
}

/* Gradient masks for scrollable content (when enabled via Style Settings) */
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .property-content-wrapper.scroll-gradient-left,
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .card-subtitle.scroll-gradient-left,
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .card-title.scroll-gradient-left {
  mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.3) 4px,
    black 28px,
    black 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.3) 4px,
    black 28px,
    black 100%
  );
}

body.dynamic-views-fade-truncated-text
  .dynamic-views
  .property-content-wrapper.scroll-gradient-right,
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .card-subtitle.scroll-gradient-right,
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .card-title.scroll-gradient-right {
  mask-image: linear-gradient(
    to right,
    black 0,
    black calc(100% - 28px),
    rgba(0, 0, 0, 0.3) calc(100% - 4px),
    rgba(0, 0, 0, 0) 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    black 0,
    black calc(100% - 28px),
    rgba(0, 0, 0, 0.3) calc(100% - 4px),
    rgba(0, 0, 0, 0) 100%
  );
}

body.dynamic-views-fade-truncated-text
  .dynamic-views
  .property-content-wrapper.scroll-gradient-both,
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .card-subtitle.scroll-gradient-both,
body.dynamic-views-fade-truncated-text
  .dynamic-views
  .card-title.scroll-gradient-both {
  mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.3) 4px,
    black 28px,
    black calc(100% - 28px),
    rgba(0, 0, 0, 0.3) calc(100% - 4px),
    rgba(0, 0, 0, 0) 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.3) 4px,
    black 28px,
    black calc(100% - 28px),
    rgba(0, 0, 0, 0.3) calc(100% - 4px),
    rgba(0, 0, 0, 0) 100%
  );
}

/* Hide empty fields */
.dynamic-views .property-field:empty {
  display: none;
}

/* ============================================
   VIEW-SPECIFIC STYLES: MASONRY VIEW
   ============================================ */

.dynamic-views .dynamic-views-masonry {
  position: relative;
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

.dynamic-views .dynamic-views-masonry .card {
  position: absolute;
  max-width: 100%;
  margin-top: 0;
  display: flex;
  flex-direction: column;
}

.dynamic-views .dynamic-views-masonry .card .card-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.dynamic-views .dynamic-views-masonry .card.card-thumbnail-right .card-content {
  flex-direction: row;
}

.dynamic-views .dynamic-views-masonry .card.card-thumbnail-left .card-content {
  flex-direction: row-reverse;
}

/* Override flex-direction for cover formats in masonry - text should be side-by-side */
.dynamic-views .dynamic-views-masonry .card.card-cover-right .card-content,
.dynamic-views .dynamic-views-masonry .card.card-cover-left .card-content,
.dynamic-views .dynamic-views-masonry .card.card-cover-top .card-content,
.dynamic-views .dynamic-views-masonry .card.card-cover-bottom .card-content {
  flex-direction: row;
}

/* Override flex-direction for thumbnail top/bottom and no-image cards in masonry */
.dynamic-views .dynamic-views-masonry .card.card-thumbnail-top .card-content,
.dynamic-views .dynamic-views-masonry .card.card-thumbnail-bottom .card-content,
.dynamic-views
  .dynamic-views-masonry
  .card:not([class*="card-thumbnail-"]):not([class*="card-cover-"])
  .card-content {
  flex-direction: row;
}

/* Masonry: Thumbnail top/bottom positioning */
.dynamic-views .dynamic-views-masonry .card.card-thumbnail-top .card-thumbnail {
  margin-top: var(--dynamic-views-element-spacing, 8px);
  margin-bottom: var(--dynamic-views-element-spacing, 8px);
}

.dynamic-views
  .dynamic-views-masonry
  .card.card-thumbnail-bottom
  .card-thumbnail {
  margin-top: var(--dynamic-views-element-spacing, 8px);
  margin-bottom: var(--dynamic-views-element-spacing, 8px);
}

.dynamic-views .dynamic-views-masonry .card .card-text-preview {
  flex: 1 1 0;
  min-width: 0;
}

.dynamic-views .dynamic-views-masonry .card .card-content ~ .card-properties,
.dynamic-views .dynamic-views-masonry .card .card-title ~ .card-properties {
  margin-top: auto;
  padding-top: var(--dynamic-views-element-spacing, 8px);
}

/* ============================================
   VIEW-SPECIFIC STYLES: LIST VIEW
   ============================================ */

.dynamic-views .list-view {
  margin: 0;
  padding-left: 0;
}

.dynamic-views .list-view.marker-bullet {
  list-style-type: disc !important;
  list-style-position: outside;
  padding-left: 20px;
}

.dynamic-views .list-view.marker-bullet .list-item {
  display: list-item !important;
}

.dynamic-views .list-view.marker-number {
  list-style-type: decimal !important;
  list-style-position: outside;
  padding-left: 20px;
}

.dynamic-views .list-view.marker-number .list-item {
  display: list-item !important;
}

.dynamic-views .list-view.marker-none {
  list-style-type: none !important;
  padding-left: 0 !important;
}

.dynamic-views .list-view.marker-none .list-item {
  display: list-item !important;
}

.dynamic-views .list-item {
  margin-bottom: 8px;
  line-height: 1.6;
}

.dynamic-views .list-link {
  color: var(--link-color);
  text-decoration: none;
}

.list-link:hover {
  color: var(--link-color-hover);
}

.dynamic-views .list-meta {
  display: inline-flex;
  gap: 4px;
  align-items: center;
  flex-wrap: wrap;
  font-size: 0.9em;
  margin-left: 8px;
}

.dynamic-views .list-meta.list-path {
  color: var(--text-faint);
}

/* ============================================
   RESPONSIVE STYLES - COMPACT VIEWPORT
   ============================================ */

/* Compact viewport - search below toolbar */
.search-controls-compact {
  display: none;
}

.compact-bottom-row {
  display: none;
}

.results-count-wrapper-compact {
  display: none;
}

.create-note-button-compact {
  display: none;
}

@container (max-width: 700px) {
  .dynamic-views .controls-wrapper {
    padding: 3px 8px 8px;
  }

  .dynamic-views .width-toggle-btn {
    display: none;
  }

  .dynamic-views.wide,
  .dynamic-views.max {
    width: 100%;
    max-width: 100%;
    margin-left: 0;
    margin-right: 0;
  }

  .search-controls-compact {
    display: block;
    width: 100%;
    padding: 0;
    margin-top: 8px;
  }

  .search-controls-compact .search-input-container {
    width: 100%;
    max-width: 100%;
    padding: 0;
    margin-bottom: 8px;
  }

  .search-controls-compact .desktop-search {
    width: 100%;
  }

  .compact-bottom-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
  }

  .results-count-wrapper-compact {
    display: flex;
    align-items: center;
    gap: 4px;
    cursor: pointer;
    padding: 6px 8px;
    position: relative;
    border-radius: 6px;
    transition:
      background-color 0.2s,
      opacity 0.2s;
  }

  .create-note-button-compact {
    display: flex;
    padding: 6px !important;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    background-color: transparent;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    height: 30px;
    width: 30px;
    box-sizing: border-box;
  }

  .create-note-button-compact svg {
    width: 16px;
    height: 16px;
    color: var(--text-normal);
  }

  .create-note-button-compact:hover {
    border-color: var(--text-faint);
    background-color: var(--background-modifier-hover);
  }

  .dynamic-views .search-controls {
    display: none !important;
  }

  .dynamic-views .results-count-wrapper {
    display: none !important;
  }

  .dynamic-views .create-note-button {
    display: none !important;
  }

  .dynamic-views .settings-panel {
    max-width: 100%;
  }

  /* Switch to single column at narrow widths */
  .dc-wide .dynamic-views .dynamic-views-grid,
  .dc-max .dynamic-views .dynamic-views-grid,
  .bases-view[data-view-type="dynamic-views-card"] .dynamic-views-grid {
    display: flex;
    flex-direction: column;
  }

  /* Stack properties on narrow cards */
  .dynamic-views .card-properties,
  .dynamic-views .tags-wrapper,
  .dynamic-views .path-wrapper,
  .bases-view .tags-wrapper,
  .bases-view .path-wrapper {
    justify-content: flex-start !important;
    flex-wrap: wrap;
  }

  /* Compact breakpoint: move thumbnails below text snippets */
  .dynamic-views .card-content,
  .bases-view .card-content {
    flex-direction: column;
  }

  /* Settings panel responsive */
  .dynamic-views .setting-item-text {
    flex-direction: column !important;
    gap: 4px;
  }

  .dynamic-views .setting-item-text .setting-item-info {
    min-width: 0;
  }

  .dynamic-views .setting-text-input,
  .dynamic-views .dropdown {
    width: 100%;
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

@media (hover: hover) {
  .markdown-source-view.mod-cm6
    .cm-embed-block:not(.cm-table-widget, .cm-lang-base):has(
      .dynamic-views
    ):hover {
    box-shadow: none;
  }
  .markdown-source-view.mod-cm6
    .cm-embed-block:not(.cm-table-widget, .cm-lang-base):has(
      .dynamic-views
    ):hover
    .edit-block-button {
    display: none;
  }
}

/* Settings tab indentation - FLIT style */
.smart-timestamp-sub-settings {
  margin-inline-start: 20px;
  padding-left: 1em;
  position: relative;
}

.smart-timestamp-sub-settings::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 10px;
  width: 2px;
  background-color: var(--background-modifier-border);
}
